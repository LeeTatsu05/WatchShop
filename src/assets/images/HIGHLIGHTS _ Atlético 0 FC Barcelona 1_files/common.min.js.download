"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}PULSE.app.templates._article_modal=_.template('<% articleTag = TEMPLATE_HELPER.getMediaTag(tags, true) %> <% isNewsContent = TEMPLATE_HELPER.contentHasTag(tags, CONSTANTS.TAGS.TYPE.NEWS.tag) %> <% articleClass = isFeatured ? \'article-featured\' : \'article\' %> <% modifierClass = isNewsContent ? articleClass + \'--is-news\' : \'\' %> <% modifierClass += isQuiz ? \' \' + articleClass + \'--quiz\' : \'\' %> <article class="<%= articleClass %> <%= modifierClass %> is-modal"> <% if ( leadMedia ) { %> <div class="<%= articleClass %>__leadMedia <%= !isFeatured ? \'fixed-hero-bg\' : \'\' %>"> <% if ( isQuiz ) { %> <div class="quiz__label"> <span class="quiz__label-text"><%= PULSE.I18N.lookup(\'label.quiz.win\') %></span> </div> <% } %> <div class="<%= articleClass %>__image-container"> <picture class="<%= articleClass %>__image"> <% if ( isFeatured ) { %> <% if (heroPhoto.featured.mobileUrl && heroPhoto.featured.mobileUrlRetina) { %><source srcset="<%= heroPhoto.featured.mobileUrl.url %>, <%= heroPhoto.featured.mobileUrlRetina.url %> 2x" media="(max-width: 480px)"><% } %> <% if (heroPhoto.featured.phabletUrl && heroPhoto.featured.phabletUrlRetina) { %><source srcset="<%= heroPhoto.featured.phabletUrl.url %>, <%= heroPhoto.featured.phabletUrlRetina.url %> 2x" media="(max-width: 640px)"><% } %> <% if (heroPhoto.featured.tabletUrl && heroPhoto.featured.tabletUrlRetina) { %><source srcset="<%= heroPhoto.featured.tabletUrl.url %>, <%= heroPhoto.featured.tabletUrlRetina.url %> 2x" media="(max-width: 840px)"><% } %> <% if (heroPhoto.featured.desktopSmallUrl && heroPhoto.featured.desktopSmallUrlRetina) { %><source srcset="<%= heroPhoto.featured.desktopSmallUrl.url %>, <%= heroPhoto.featured.desktopSmallUrlRetina.url %> 2x" media="(max-width: 1024px)"><% } %> <% if (heroPhoto.featured.desktopUrl && heroPhoto.featured.desktopUrlRetina) { %><source srcset="<%= heroPhoto.featured.desktopUrl.url %>, <%= heroPhoto.featured.desktopUrlRetina.url %> 2x" media="(max-width: 1200px)"><% } %> <% if (heroPhoto.featured.wideUrl && heroPhoto.featured.wideUrlRetina) { %><source srcset="<%= heroPhoto.featured.wideUrl.url %>, <%= heroPhoto.featured.wideUrlRetina.url %> 2x"><% } %> <% if (heroPhoto.featured.desktopUrl) { %><img src="<%= heroPhoto.featured.desktopUrl.url %>" alt="<%= title %>"><% } %> <% } else { %> <% if (heroPhoto.standard.mobileUrl && heroPhoto.standard.mobileUrlRetina) { %><source srcset="<%= heroPhoto.standard.mobileUrl.url %>, <%= heroPhoto.standard.mobileUrlRetina.url %> 2x" media="(max-width: 480px)"><% } %> <% if (heroPhoto.standard.phabletUrl && heroPhoto.standard.phabletUrlRetina) { %><source srcset="<%= heroPhoto.standard.phabletUrl.url %>, <%= heroPhoto.standard.phabletUrlRetina.url %> 2x" media="(max-width: 850px)"><% } %> <% if (heroPhoto.standard.tabletUrl && heroPhoto.standard.tabletUrlRetina) { %><source srcset="<%= heroPhoto.standard.tabletUrl.url %>, <%= heroPhoto.standard.tabletUrlRetina.url %> 2x" media="(max-width: 1120px)"><% } %> <% if (heroPhoto.standard.desktopUrl && heroPhoto.standard.desktopUrlRetina) { %><source srcset="<%= heroPhoto.standard.desktopSmallUrl.url %>, <%= heroPhoto.standard.desktopUrlRetina.url %> 2x"><% } %> <% if (heroPhoto.standard.desktopUrl) { %><img src="<%= heroPhoto.standard.desktopSmallUrl.url %>" alt="<%= title %>"><% } %> <% } %> </picture> <% if ( !isFeatured ) { %> <% blurredBG = IMAGE_HELPER.getPhotoByVariant(IMAGE_HELPER.getVariantsForContentType(leadMedia), \'Standard Article Hero - Low Res\' ); %> <% if (blurredBG) { %><img src="<%= blurredBG.url %>" class="<%= articleClass %>__image-blurred" alt=""><% } %> <% } %> </div> </div> <% } %> <% if ( leadMedia ) { %> <div class="<%= articleClass %>__container"> <% } else { %> <div class="<%= articleClass %>__container <%= articleClass %>__container--no-lead"> <% } %> <header class="<%= articleClass %>__header"> <% var contentSponsor = TEMPLATE_HELPER.getSponsorTag( tags ) %> <% if (contentSponsor) { %> <div class="content-partner"> <span class="content-partner__label"><%= PULSE.I18N.lookup(\'label.partner.explainer\') %></span> <svg class="icon content-partner__logo"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/partners.svg#<%= contentSponsor %>"></use></svg> </div> <% } %> <h1 class="<%= articleClass %>__title"><%= title %></h1> <div class="<%= articleClass %>__summary"><%= summary %></div> <div class="<%= articleClass %>__meta"> <% if ( !isQuiz ) { %> <div class="<%= articleClass %>__publisher"> <% if (author) { %><div class="<%= articleClass %>__author"><%= author %></div><% } %> <div class="<%= articleClass %>__publish-date"> <% var dateFormat = PULSE.app.language === \'ja\' ? \'MMMD日（ddd）ah.mm\' : \'hh:mma dddd DD MMM\'; %> <%= moment(publishFrom).format(dateFormat) %> </div> </div> <% } %> <div class="article__meta-data"> <% if (articleTag) { %><div class="content-tag"><%= PULSE.I18N.lookup(articleTag) %></div><% } %> <% if ( !isQuiz ) { %> <time class="content-time"> <svg class="content-time__icon icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#clock"></use></svg> <span class="content-time__date"><%= TEMPLATE_HELPER.dateAge(publishFrom) %></span> </time> <% } else { %> <div class="quiz__fans"> <span class="quiz__fans-label"><%= PULSE.I18N.lookup(\'label.quiz.competitions\') %></span> </div> <% if ( metadata[\'quiz-closing-date\'] ) { %> <div class="quiz__end"> <svg class="quiz__end-icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#video"></use></svg> <span class="quiz__end-date"><%= PULSE.I18N.lookup(\'label.quiz.closing\', { date: metadata[\'quiz-closing-date\'] }) %></span> </div> <% } %> <% } %> </div> </div> </header> <section class="<%= articleClass %>__content-container"> <% if ( isNewsContent ) { %> <div class="social-share js-social-share u-hide-phablet" data-widget="social-page-share" data-body="<%= title %>"> <div class="social-share__label"><%= PULSE.I18N.lookup(\'label.share.article\') %></div> <ul class="social-share__list"> <li class="social-share__icon social-share__icon--viber u-show-phablet" role="button" data-social data-social-service="viber" data-analytics="true" data-analytics-type="social media" data-analytics-section="news-top" data-analytics-event="viber-share" tabindex="0"> <svg class="icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#viber"></use></svg> <span class="social-share__name"><%= PULSE.I18N.lookup(\'label.share.viber\') %></span> </li> <li class="social-share__icon social-share__icon--whatsapp u-show-phablet" role="button" data-social data-social-service="whatsapp" data-analytics="true" data-analytics-type="social media" data-analytics-section="news-top" data-analytics-event="whatsapp-share" tabindex="0"> <svg class="icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#whatsapp"></use></svg> <span class="social-share__name"><%= PULSE.I18N.lookup(\'label.share.whatsapp\') %></span> </li> <li class="social-share__icon social-share__icon--twitter" role="button" data-social data-social-service="twitter" data-analytics="true" data-analytics-type="social media" data-analytics-section="news-top" data-analytics-event="twitter-share" tabindex="0"> <svg class="icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#twitter"></use></svg> <span class="social-share__name"><%= PULSE.I18N.lookup(\'label.share.twitter\') %></span> </li> <li class="social-share__icon social-share__icon--facebook" role="button" data-social data-social-service="facebook" data-analytics="true" data-analytics-type="social media" data-analytics-section="news-top" data-analytics-event="facebook-share" tabindex="0"> <svg class="icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#facebook"></use></svg> <span class="social-share__name"><%= PULSE.I18N.lookup(\'label.share.facebook\') %></span> </li> <li class="social-share__icon social-share__icon--messenger u-show-phablet" role="button" data-social data-social-service="facebookMessenger" data-analytics="true" data-analytics-type="social media" data-analytics-section="news-top" data-analytics-event="facebookmessenger-share" tabindex="0"> <svg class="icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#facebook-messenger"></use></svg> <span class="social-share__name"><%= PULSE.I18N.lookup(\'label.share.messenger\') %></span> </li> <li class="social-share__icon social-share__icon--copy js-copy-url" data-analytics="true" data-analytics-type="social media" data-analytics-section="news-top" data-analytics-event="copy-url-share" role="button" tabindex="0"> <svg class="icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#link"></use></svg> <span class="social-share__name"><%= PULSE.I18N.lookup(\'label.share.copylink\') %></span> <span class="social-share__copy-message js-copy-message"></span> </li> </ul> </div> <% } %> <div class="<%= articleClass %>__body"> <div class="<%= articleClass %>__content js-article-body"><%= body %></div> <% if ( isNewsContent ) { %> <div class="social-share js-social-share" data-widget="social-page-share" data-body="<%= title %>"> <div class="social-share__label"><%= PULSE.I18N.lookup(\'label.share.article\') %></div> <ul class="social-share__list"> <li class="social-share__icon social-share__icon--viber u-show-phablet" role="button" data-social data-social-service="viber" data-analytics="true" data-analytics-type="social media" data-analytics-section="news-bottom" data-analytics-event="viber-share" tabindex="0"> <svg class="icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#viber"></use></svg> <span class="social-share__name"><%= PULSE.I18N.lookup(\'label.share.viber\') %></span> </li> <li class="social-share__icon social-share__icon--whatsapp u-show-phablet" role="button" data-social data-social-service="whatsapp" data-analytics="true" data-analytics-type="social media" data-analytics-section="news-bottom" data-analytics-event="whatsapp-share" tabindex="0"> <svg class="icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#whatsapp"></use></svg> <span class="social-share__name"><%= PULSE.I18N.lookup(\'label.share.whatsapp\') %></span> </li> <li class="social-share__icon social-share__icon--twitter" role="button" data-social data-social-service="twitter" data-analytics="true" data-analytics-type="social media" data-analytics-section="news-bottom" data-analytics-event="twitter-share" tabindex="0"> <svg class="icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#twitter"></use></svg> <span class="social-share__name"><%= PULSE.I18N.lookup(\'label.share.twitter\') %></span> </li> <li class="social-share__icon social-share__icon--facebook" role="button" data-social data-social-service="facebook" data-analytics="true" data-analytics-type="social media" data-analytics-section="news-bottom" data-analytics-event="facebook-share" tabindex="0"> <svg class="icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#facebook"></use></svg> <span class="social-share__name"><%= PULSE.I18N.lookup(\'label.share.facebook\') %></span> </li> <li class="social-share__icon social-share__icon--messenger u-show-phablet" role="button" data-social data-social-service="facebookMessenger" data-analytics="true" data-analytics-type="social media" data-analytics-section="news-bottom" data-analytics-event="facebookmessenger-share" tabindex="0"> <svg class="icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#facebook-messenger"></use></svg> <span class="social-share__name"><%= PULSE.I18N.lookup(\'label.share.messenger\') %></span> </li> <li class="social-share__icon social-share__icon--copy js-copy-url" data-analytics="true" data-analytics-type="social media" data-analytics-section="news-bottom" data-analytics-event="copy-url-share" role="button" tabindex="0"> <svg class="icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#link"></use></svg> <span class="social-share__name"><%= PULSE.I18N.lookup(\'label.share.copylink\') %></span> <span class="social-share__copy-message js-copy-message"></span> </li> </ul> </div> <% } %> <div class="força-barça--center força-barça--float <%= articleClass === \'article-featured\' ? \'força-barça--dark-bg\' : \'\' %>" data-widget="forca-barca" data-reaction-type="TEXT" data-reaction-id="<%= id %>" data-analytics-label="<%= title %>"> <div class="força-barça js-forca-barca"> <div class="força-barça__label-wrapper"> <div class="força-barça__labels"> <div class="força-barça__title"><%= PULSE.I18N.lookup(\'label.forca-barca\') %></div> <div class="força-barça__section"> <svg class="icon max-claps-fire-icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#fire"></use></svg> <div class="força-barça__counter js-forca-barca-counter"></div> </div> </div> </div> <div class="força-barça__icon js-forca-barca-button" role="button" tabindex="0"> <span class="visually-hidden"><%= PULSE.I18N.lookup(\'label.forca-barca\') %></span> <span class="clap-count-disc js-forca-clap-counter"></span> <span class="max-clap-total js-forca-max-clap-total"></span> <svg class="icon hand-icon hand-icon--top" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 191.7 197.6"><path class="fill" d="M111.7 9.1c5.2-6.2 13-6.9 19.2-1.7 6.2 5.2 7.8 13 2.6 19.2L146.6 11c5.2-6.2 14.4-7 20.6-1.8 6.2 5.2 7 14.4 1.8 20.6l-12.5 14.9c5.2-6.2 14.6-6.1 20.8-.9 6.2 5.2 7.8 15.1 2.6 21.3l-16.5 19.6c5.2-6.2 13.8-8.3 20-3.1 6.2 5.2 6.2 13.8 1 20l-52.8 62.9c-27.3 32.5-73.9 38.4-104 13.1s-32.4-72.2-5.1-104.7l21.4-25.3c5.2-6.2 10.9-13.9 17-8.7s10.7 17.5 5.5 23.7l45.3-53.5z" fill="#fff"/><g class="stroke" fill="none" stroke="#ce202c" stroke-width="9" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"><path class="stroke" d="M80 91.1l66.5-79.3c5.2-6.2 14.4-7 20.6-1.8s7 14.4 1.8 20.6l-66.5 79.3M156.5 45.5c5.2-6.2 14.6-6.1 20.8-.9 6.2 5.2 7.8 15.1 2.6 21.3l-53.2 63.4"/><path class="stroke" d="M163.4 85.5c5.2-6.2 13.8-8.3 20-3.1 6.2 5.2 6.2 13.8 1 20l-52.8 62.9c-27.3 32.5-73.9 38.4-104 13.1s-32.4-72.2-5.1-104.7L44 48.5c5.2-6.2 10.9-13.9 17-8.7s10.7 17.5 5.5 23.7L40.1 95.1l72.2-86c5.2-6.2 13.7-7.6 19.9-2.4 6.2 5.2 6.6 14.5 1.4 20.7"/></g></svg> <svg class="icon hand-icon hand-icon--bottom" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 191.7 197.6"><path class="fill" d="M111.7 9.1c5.2-6.2 13-6.9 19.2-1.7 6.2 5.2 7.8 13 2.6 19.2L146.6 11c5.2-6.2 14.4-7 20.6-1.8 6.2 5.2 7 14.4 1.8 20.6l-12.5 14.9c5.2-6.2 14.6-6.1 20.8-.9 6.2 5.2 7.8 15.1 2.6 21.3l-16.5 19.6c5.2-6.2 13.8-8.3 20-3.1 6.2 5.2 6.2 13.8 1 20l-52.8 62.9c-27.3 32.5-73.9 38.4-104 13.1s-32.4-72.2-5.1-104.7l21.4-25.3c5.2-6.2 10.9-13.9 17-8.7s10.7 17.5 5.5 23.7l45.3-53.5z" fill="#fff"/><g class="stroke" fill="none" stroke="#ce202c" stroke-width="9" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"><path class="stroke" d="M80 91.1l66.5-79.3c5.2-6.2 14.4-7 20.6-1.8s7 14.4 1.8 20.6l-66.5 79.3M156.5 45.5c5.2-6.2 14.6-6.1 20.8-.9 6.2 5.2 7.8 15.1 2.6 21.3l-53.2 63.4"/><path class="stroke" d="M163.4 85.5c5.2-6.2 13.8-8.3 20-3.1 6.2 5.2 6.2 13.8 1 20l-52.8 62.9c-27.3 32.5-73.9 38.4-104 13.1s-32.4-72.2-5.1-104.7L44 48.5c5.2-6.2 10.9-13.9 17-8.7s10.7 17.5 5.5 23.7L40.1 95.1l72.2-86c5.2-6.2 13.7-7.6 19.9-2.4 6.2 5.2 6.6 14.5 1.4 20.7"/></g></svg> </div> </div> </div> <div class="content-divider-crest js-article-footer"> <svg class="icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/club-badges.svg#BCN"></use></svg> </div> </div> <div class="related-articles" data-widget="related-articles" data-article-id="<%= id %>" data-tags="<%= TEMPLATE_HELPER.getTagsAsString(tags).replace(CONSTANTS.TAGS.TYPE.FEATURED, \'\') %>"></div> </section> </div> <section class="social-share-text u-hide-tablet js-text-share-options"> <ul class="social-share-text__icons-container"> <li class="social-share-text__icon" data-analytics="true" data-analytics-type="social media" data-analytics-section="news-select" data-analytics-event="twitter-share"> <a data-social-service="twitter" prevent-action><svg class="icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#twitter"></use></svg></a> <span class="u-screen-reader"><%= PULSE.I18N.lookup(\'label.share.viatwitter\') %></span> </li> <li class="social-share-text__icon" data-analytics="true" data-analytics-type="social media" data-analytics-section="news-select" data-analytics-event="facebook-share"> <a data-social-service="facebook" prevent-action><svg class="icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#facebook"></use></svg></a> <span class="u-screen-reader"><%= PULSE.I18N.lookup(\'label.share.viafacebook\') %></span> </li> </ul> </section> <div class="js-article-bottom"></div> </div></article> <div class="js-content-data-attributes" data-ignore="<%= id %>" data-page-size="9" data-tags="<%= TEMPLATE_HELPER.getTagsAsString(tags).replace(CONSTANTS.TAGS.TYPE.NEWS.tag, \'\').replace(CONSTANTS.TAGS.TYPE.FEATURED.tag, \'\') %>"> </div>'),PULSE.app.templates["content-article-item"]=_.template('<div class="<%= config.columnClass %> uniform-grid__section"> <a href="<%= url || \'\' %>" class="thumbnail thumbnail--news <%= isStatic ? \'thumbnail--static\' : \'\' %> <%= isFeatured ? \'thumbnail--featured\' : \'\' %> <%= config.thumbnailClass %> js-thumbnail <% if (!hotlink) { %>js-article-expand <% } %>" data-article-id="<%= id %>" <%= isFeatured ? \'data-is-featured\' : \'\' %> data-publish-date="<%= publishFrom %>" <% if (hotlink) { %> rel="noopener" target="_blank" <% } %> > <% var sponsorTag = TEMPLATE_HELPER.getSponsorTag( tags ) %> <figure class="thumbnail__figure"> <div class="thumbnail__picture-wrapper"> <div class="thumbnail__picture"> <svg class="thumbnail__default"> <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/club-badges.svg#BCN"></use> </svg> <% if( leadMedia ) { %> <picture class="thumbnail__picture-element"> <% var variants = IMAGE_HELPER.getVariantsForContentType(leadMedia) %> <% if( !isFeatured && variants ) { %> <% if ( config.gridWidth === \'3\' ) { %> <% var tabletUrl = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumb ) %> <% var tabletUrlRetina = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumbRetina ) %> <% var phabletUrl = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumbWide ) %> <% var phabletUrlRetina = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumbWideRetina ) %> <% if ( tabletUrl &&  tabletUrlRetina ) { %> <source srcset="" data-image-src="<%= tabletUrl.url %>, <%= tabletUrlRetina.url %> 2x" media="(max-width: 640px)"> <% } %> <% if ( phabletUrl &&  phabletUrlRetina ) { %> <source srcset="" data-image-src="<%= phabletUrl.url %>, <%= phabletUrlRetina.url %> 2x" media="(max-width: 1025px)"> <% } %> <% } else if ( config.gridWidth === \'2\' ) { %> <% var wideUrl = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumbTablet) %> <% var wideUrlRetina = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumbTabletRetina ) %> <% var phabletUrl = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumbWide ) %> <% var phabletUrlRetina = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumbWideRetina ) %> <% if ( phabletUrl &&  phabletUrlRetina ) { %> <source srcset="" data-image-src="<%= phabletUrl.url %>, <%= phabletUrlRetina.url %> 2x" media="(max-width: 1025px)"> <% } %> <% if ( wideUrl &&  wideUrlRetina ) { %> <source srcset="" data-image-src="<%= wideUrl.url %>, <%= wideUrlRetina.url %> 2x" media="(min-width: 1026px)"> <% } %> <% } %> <% } else if (variants) { %> <% if ( config.gridWidth === \'4\' ) { %> <% var tabletUrl = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumb ) %> <% var tabletUrlRetina = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumbRetina ) %> <% var wideUrl = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.featured ) %> <% var wideUrlRetina = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.featuredRetina ) %> <% if ( tabletUrl &&  tabletUrlRetina ) { %> <source srcset="" data-image-src="<%= tabletUrl.url %>, <%= tabletUrlRetina.url %> 2x" media="(max-width: 1025px)"> <% } %> <% if ( wideUrl &&  wideUrlRetina ) { %> <source srcset="" data-image-src="<%= wideUrl.url %>, <%= wideUrlRetina.url %> 2x" media="(min-width: 1026px)"> <% } %> <% } else if ( config.gridWidth === \'3\' ) { %> <% var phabletUrl = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumbWide ) %> <% var phabletUrlRetina = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumbWideRetina ) %> <% var tabletUrl = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumb ) %> <% var tabletUrlRetina = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumbRetina ) %> <% var wideUrl = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.featured ) %> <% var wideUrlRetina = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.featuredRetina ) %> <% if ( phabletUrl &&  phabletUrlRetina ) { %> <source srcset="" data-image-src="<%= phabletUrl.url %>, <%= phabletUrlRetina.url %> 2x" media="(max-width: 640px)"> <% } %> <% if ( tabletUrl &&  tabletUrlRetina ) { %> <source srcset="" data-image-src="<%= tabletUrl.url %>, <%= tabletUrlRetina.url %> 2x" media="(max-width: 1025px)"> <% } %> <% if ( wideUrl &&  wideUrlRetina ) { %> <source srcset="" data-image-src="<%= wideUrl.url %>, <%= wideUrlRetina.url %> 2x" media="(min-width: 1026px)"> <% } %> <% } else if ( config.gridWidth === \'2\' ) { %> <% var phabletUrl = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumbWide ) %> <% var phabletUrlRetina = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumbWideRetina ) %> <% var tabletUrl = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.featured ) %> <% var tabletUrlRetina = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.featuredRetina ) %> <% if ( phabletUrl &&  phabletUrlRetina ) { %> <source srcset="" data-image-src="<%= phabletUrl.url %>, <%= phabletUrlRetina.url %> 2x" media="(max-width: 640px)"> <% } %> <% if ( tabletUrl &&  tabletUrlRetina ) { %> <source srcset="" data-image-src="<%= tabletUrl.url %>, <%= tabletUrlRetina.url %> 2x" media="(min-width: 641px)"> <% } %> <% } %> <% var mobileUrl = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumb ) %> <% var mobileUrlRetina = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumbRetina ) %> <% var phabletUrl = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumbWide ) %> <% var phabletUrlRetina = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumbWideRetina ) %> <% var imageUrl = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.featured ) %> <% var imageUrlRetina = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.featuredRetina ) %> <% if ( mobileUrl &&  mobileUrlRetina ) { %> <source srcset="" data-image-src="<%= mobileUrl.url %>, <%= mobileUrlRetina.url %> 2x" media="(max-width: 380px)"> <% } %> <% if ( phabletUrl &&  phabletUrlRetina ) { %> <source srcset="" data-image-src="<%= phabletUrl.url %>, <%= phabletUrlRetina.url %> 2x" media="(max-width: 640px)"> <% } %> <% if ( imageUrl &&  imageUrlRetina ) { %> <source srcset="" data-image-src="<%= imageUrl.url %>, <%= imageUrlRetina.url %> 2x"> <% } %> <% } %> <% var imageUrl = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumbWide ) %> <% var imageUrlRetina = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumbWideRetina ) %> <source srcset="" data-image-src="<%= imageUrl.url %>, <%= imageUrlRetina.url %> 2x"> <img src="<%= imageUrl.url %>" alt="<%= leadMedia.title || \'\' %>" class="thumbnail__image"> </picture> <% } %> </div> <% if (sponsorTag && !isFeatured) { %> <div class="content-partner"> <span class="content-partner__label"><%= PULSE.I18N.lookup(\'label.partner.explainer\') %></span> <svg class="icon content-partner__logo"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/partners.svg#<%= sponsorTag %>--white"></use></svg> </div> <% } %> </div> <figcaption class="thumbnail__caption"> <% if (sponsorTag && isFeatured) { %> <div class="content-partner"> <span class="content-partner__label"><%= PULSE.I18N.lookup(\'label.partner.explainer\') %></span> <svg class="icon content-partner__logo"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/partners.svg#<%= sponsorTag %>--white"></use></svg> </div> <% } %> <div class="thumbnail__text"> <% if (subtitle) { %> <div class="thumbnail__title"><%= subtitle %></div> <% } else { %> <div class="thumbnail__title"><%= title %></div> <% } %> <div class="thumbnail__desc"><%= description %></div> </div> <div class="thumbnail__meta"> <% var contentTag = TEMPLATE_HELPER.getMediaTag( tags, true ) %> <% if (contentTag) { %> <div class="content-tag content-tag--left"><span><%= PULSE.I18N.lookup(contentTag) %></span></div> <% } %> <time class="thumbnail__time"> <svg class="thumbnail__time-icon icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#clock"></use></svg> <%= publishDate %> </time> </div> </figcaption> </figure> </a> </div>'),PULSE.app.templates["content-gallery-item"]=_.template('<div class="uniform-grid__section <%= config.columnClass %>"> <a href="<%= url || \'\' %>" class="thumbnail thumbnail--gallery <%= config.thumbnailClass %>"> <figure class="thumbnail__figure"> <div class="thumbnail__picture-wrapper"> <div class="thumbnail__picture"> <svg class="thumbnail__default"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/club-badges.svg#BCN"></use></svg> <% if( coverItem ) { %> <picture class="js-lazy-picture thumbnail__picture-element lazy-load"> <% var variants = IMAGE_HELPER.getVariantsForContentType(coverItem) %> <% if ( config.gridWidth === \'2\' ) { %> <% var wideUrl = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumbTablet ) %> <% var wideUrlRetina = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumbTabletRetina ) %> <% if ( wideUrl && wideUrlRetina ) { %> <source srcset="" data-image-src="<%= wideUrl.url %>, <%= wideUrlRetina.url %> 2x" media="(min-width: 1026px)"> <% } %> <% } %> <% var phabletUrl = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumb ) %> <% var phabletUrlRetina = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumbRetina ) %> <% var mobileUrl = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.lowRes ) %> <% var mobileUrlRetina = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.lowResRetina ) %> <% var imageUrl = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumbWide ) %> <% var imageUrlRetina = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumbWideRetina ) %> <% if ( phabletUrl && phabletUrlRetina ) { %> <source srcset="" data-image-src="<%= phabletUrl.url %>, <%= phabletUrlRetina.url %> 2x" media="(max-width: 640px)"> <% } %> <% if ( mobileUrl && mobileUrlRetina ) { %> <source srcset="" data-image-src="<%= mobileUrl.url %>, <%= mobileUrlRetina.url %> 2x" media="(max-width: 480px)"> <% } %> <% if ( imageUrl && imageUrlRetina ) { %> <source srcset="" data-image-src="<%= imageUrl.url %>, <%= imageUrlRetina.url %> 2x"> <img src="" data-image-src="<%= imageUrl.url %>" alt="<%= coverItem.title || \'\' %>" class="thumbnail__image"> <% } %> </picture> <% } %> <div class="thumbnail__icon-container"> <div class="thumbnail__gallery-count"><%= itemCount %></div> <svg class="icon"> <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#camera"></use> </svg> </div> </div> <% var sponsorTag = TEMPLATE_HELPER.getSponsorTag( tags ) %> <% if( sponsorTag ) { %> <div class="content-partner"> <span class="content-partner__label"><%= PULSE.I18N.lookup( \'label.partner.explainer\' ) %></span> <svg class="icon content-partner__logo"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/partners.svg#<%= sponsorTag %>--white"></use></svg> </div> <% } %> </div> <figcaption class="thumbnail__caption"> <div class="thumbnail__text"> <div class="thumbnail__title"><%= title %></div> <div class="thumbnail__desc"><%= description %></div> </div> <div class="thumbnail__meta"> <div class="thumbnail__category"> <svg class="icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#gallery"></use></svg> <% var contentTag = TEMPLATE_HELPER.getMediaTag( tags, true ) %> <%= PULSE.I18N.lookup( contentTag ) || PULSE.I18N.lookup( \'label.gallery\' ) %> </div> <time class="thumbnail__time"> <svg class="thumbnail__time-icon icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#clock"></use></svg> <%= TEMPLATE_HELPER.dateAge( dateMillis ) %> </time> </div> </figcaption> </figure> </a> </div>'),PULSE.app.templates["content-news-feed-item"]=_.template('<% if( config.columnClass ) { %> <div class=" <%= config.columnClass %>"> <% } %> <a href="<%= url %>" class="thumbnail is-visible thumbnail--news <%= isStatic ? \'thumbnail--static\' : \'\' %> <%= isFeatured ? \'thumbnail--featured\' : \'\' %> js-thumbnail <% if (!hotlink) { %>js-article-expand <% } %> <%= config.thumbnailClass || \'\' %>" data-article-id="<%= id %>" <%= isFeatured ? \'data-is-featured\' : \'\' %> data-publish-date="<%= publishFrom %>" <% if (hotlink) { %> rel="noopener" target="_blank" <% } %>> <figure class="thumbnail__figure"> <div class="thumbnail__picture-wrapper"> <div class="thumbnail__picture"> <svg class="thumbnail__default"> <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/club-badges.svg#BCN"></use> </svg> <% if( leadMedia ) { %> <picture class="thumbnail__picture-element"> <% var imageUrl = IMAGE_HELPER.getPhotoByVariant( IMAGE_HELPER.getVariantsForContentType(leadMedia), config.variants.thumb ).url %> <% var imageUrlRetina = IMAGE_HELPER.getPhotoByVariant(IMAGE_HELPER.getVariantsForContentType(leadMedia), config.variants.thumbRetina ).url %> <source srcset="<%= imageUrl %>, <%= imageUrlRetina %> 2x"> <img src="<%= imageUrl %>" alt="<%= leadMedia.title || \'\' %>" class="thumbnail__image"> </picture> <% } %> </div> <% var sponsorTag = TEMPLATE_HELPER.getSponsorTag( tags ) %> <% if (sponsorTag) { %> <div class="content-partner"> <span class="content-partner__label"><%= PULSE.I18N.lookup(\'label.partner.explainer\') %></span> <svg class="icon content-partner__logo"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/partners.svg#<%= sponsorTag %>--white"></use></svg> </div> <% } %> </div> <figcaption class="thumbnail__caption"> <div class="thumbnail__text"> <% if (subtitle) { %> <div class="thumbnail__title"><%= subtitle %></div> <% } else { %> <div class="thumbnail__title"><%= title %></div> <% } %> <div class="thumbnail__desc"><%= description %></div> </div> <div class="thumbnail__meta"> <% var contentTag = TEMPLATE_HELPER.getMediaTag( tags, true ) %> <% if (contentTag) { %> <div class="content-tag content-tag--left"><span><%= PULSE.I18N.lookup(contentTag) %></span></div> <% } %> <time class="thumbnail__time"> <svg class="thumbnail__time-icon icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#clock"></use></svg> <%= publishDate %> </time> </div> </figcaption> </figure> </a> <% if( config.columnClass ) { %> </div> <% } %>'),
PULSE.app.templates["content-popup-image"]=_.template('<picture> <% if (mobileUrl && mobileUrlRetina) { %><source srcset="<%= mobileUrl.url %>, <%= mobileUrlRetina.url %> 2x" media="(max-width: 431px)"><% } %> <% if (phabletUrl && phabletUrlRetina) { %><source srcset="<%= phabletUrl.url %>, <%= phabletUrlRetina.url %> 2x" media="(max-width: 850px)"><% } %> <% if (desktopUrl && desktopUrlRetina) { %><source srcset="<%= desktopUrl.url %>, <%= desktopUrlRetina.url %> 2x"><% } %> <% if (desktopUrl) { %><img src="<%= desktopUrl.url %>"><% } %> </picture>'),PULSE.app.templates["content-video-item"]=_.template('<div class="video-thumbnail <%= config.thumbnailClass %> <%= config.columnClass || \'\' %> video-thumbnail<%= entitlement.modifier %> js-video-item"> <a href="<%= url %>" class="video-thumbnail__container js-video-thumbnail" data-pulse-id="<%= id %>" data-external-id="<%= mediaId %>" data-title="<%= title %>"> <% if (leadMedia.variants) { %> <div class="video-thumbnail__photo-container js-video-thumbnail-photo-container"> <picture class="video-thumbnail__photo js-lazy-picture"> <% var mobileUrl = IMAGE_HELPER.getPhotoByVariant( IMAGE_HELPER.getVariantsForContentType(leadMedia), \'Thumbnail - Phablet\' ) %> <% var mobileUrlRetina = IMAGE_HELPER.getPhotoByVariant( IMAGE_HELPER.getVariantsForContentType(leadMedia), \'Thumbnail - Phablet (Retina)\' ) %> <% var imageUrl = IMAGE_HELPER.getPhotoByVariant( IMAGE_HELPER.getVariantsForContentType(leadMedia), \'Standard Article Hero - Phablet\' ) %> <% var imageUrlRetina = IMAGE_HELPER.getPhotoByVariant( IMAGE_HELPER.getVariantsForContentType(leadMedia), \'Standard Article Hero - Phablet (Retina)\' ) %> <% if ( mobileUrl && mobileUrlRetina ) { %> <source srcset="" data-image-src="<%= mobileUrl.url %>, <%= mobileUrlRetina.url %> 2x" media="(max-width: 340px)"> <% } %> <% if ( imageUrl && imageUrlRetina ) { %> <source srcset="" data-image-src="<%= imageUrl.url %>, <%= imageUrlRetina.url %> 2x"> <img src="" data-image-src="<%= imageUrl.url %>" alt="<%= leadMedia.title || \'\' %>"> <% } %> </picture> <div class="video-thumbnail__play"> <svg class="video-thumbnail__play-icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#play"></use></svg> </div> </div> <% } %> <div class="video-thumbnail__content"> <div class="video-thumbnail__description"> <div class="video-duration"> <svg class="video-duration__icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#play"></use></svg> <%= duration %> </div> <div class="video-views"> <span class="video-views__title"> <% if (categoryLabel) { %> <span class="video-views__category"><%= categoryLabel %></span> <% } %> <svg class="video-views__icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#views"></use></svg> <%= views %> <span class="video-views__label"><%= PULSE.I18N.lookup(\'label.views\') %></span> </span> </div> <% if ( subtitle ) { %> <div class="video-thumbnail__title"><%= subtitle %></div> <% } else { %> <div class="video-thumbnail__title"><%= title %></div> <% } %> </div> <% if (entitlement.type === \'PREMIUM\' || entitlement.type === \'FANS\') { %> <div class="video-thumbnail__entitlement"> <svg class="video-thumbnail__entitlement-icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#barca-fans-en"></use></svg> </div> <% } %> </div> </a> </div>'),PULSE.app.templates["featured-promo"]=_.template('<section class="featured-promo featured-promo--active <%= cssClass %> <%= isVip ? \'featured-promo--premium\' : \'\' %>"> <div class="featured-promo__bg"> <picture class="featured-promo__image"> <% if ( variants.mobileUrl && variants.mobileUrlRetina ) { %> <source srcset="<%= variants.mobileUrl.url %>, <%= variants.mobileUrlRetina.url %> 2x" media="(max-width: 480px)"> <% } %> <% if ( variants.phabletUrl && variants.phabletUrlRetina ) { %> <source srcset="<%= variants.phabletUrl.url %>, <%= variants.phabletUrlRetina.url %> 2x" media="(max-width: 640px)"> <% } %> <% if ( variants.tabletUrl && variants.tabletUrlRetina ) { %> <source srcset="<%= variants.tabletUrl.url %>, <%= variants.tabletUrlRetina.url %> 2x" media="(max-width: 480px)"> <% } %> <% if ( variants.desktopSmallUrl && variants.desktopSmallUrlRetina ) { %> <source srcset="<%= variants.desktopSmallUrl.url %>, <%= variants.desktopSmallUrlRetina.url %> 2x" media="(max-width: 480px)"> <% } %> <% if ( variants.desktopUrl && variants.desktopUrlRetina ) { %> <source srcset="<%= variants.desktopUrl.url %>, <%= variants.desktopUrlRetina.url %> 2x" media="(max-width: 480px)"> <% } %> <% if ( variants.wideUrl && variants.wideUrlRetina ) { %> <source srcset="<%= variants.wideUrl.url %>, <%= variants.wideUrlRetina.url %> 2x" media="(max-width: 480px)"> <% } %> <% if ( variants.desktopUrl && variants.desktopUrlRetina ) { %> <img src="<%= variants.desktopUrl.url %>" alt="<%= promo.title || \'\' %>"> <% } %> </picture> </div> <div class="featured-promo__container"> <header class="featured-promo__header"> <% if ( sponsor.length ) { %> <div class="content-partner"> <span class="content-partner__label"> <%= PULSE.I18N.lookup(\'label.partner.explainer\') %></span> <svg class="icon content-partner__logo"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/partners.svg#<%= sponsor %>--white"></use></svg> </div> <% } %> <div class="featured-widget__title"><%= promo.title %></div> <% if ( promo.description.length ) { %> <div class="featured-promo__description"><%= promo.description %></div> <% } %> <% if ( promo.links.length ) { %> <a href="<%= promo.links[0].promoUrl.length ? promo.links[0].promoUrl : \'#\' %>" class="button <%= isVip ? \'button--vip-tickets-on-dark\' : \'button--primary\' %> featured-promo__cta" <%= tracking %> ><%= promo.links[0].linkText %></a> <% } %> </header> </div> </section>'),PULSE.app.templates["gallery-picture-item"]=_.template('<li class="gallery-modal__slide <%= isPortrait ? \'gallery-modal__slide--portrait\' : \'\' %>"> <div class="gallery-modal__photo-container"> <picture> <% _.each(picture.srcset, function(set) { %> <source srcset="<%= set.src %>" <% if (set.media) { %> media="<%= set.media %>" <% } %>> <% }) %> <img src="<%= picture.img %>" class="js-gallery-photo" alt="<%= title %>"> </picture> </div> </li>'),PULSE.app.templates["hero-photo"]=_.template('<div class="hero-photo"> <picture class="hero-photo__picture-element js-lazy-picture"> <% if (variants.mobileUrl && variants.mobileUrlRetina) { %><source srcset="" data-image-src="<%= variants.mobileUrl.url %>, <%= variants.mobileUrlRetina.url %> 2x" media="(max-width: 480px)"><% } %> <% if (variants.phabletUrl && variants.phabletUrlRetina) { %><source srcset="" data-image-src="<%= variants.phabletUrl.url %>, <%= variants.phabletUrlRetina.url %> 2x" media="(max-width: 640px)"><% } %> <% if (variants.tabletUrl && variants.tabletUrlRetina) { %><source srcset="" data-image-src="<%= variants.tabletUrl.url %>, <%= variants.tabletUrlRetina.url %> 2x" media="(max-width: 840px)"><% } %> <% if (variants.desktopSmallUrl && variants.desktopSmallUrlRetina) { %><source srcset="" data-image-src="<%= variants.desktopSmallUrl.url %>, <%= variants.desktopSmallUrlRetina.url %> 2x" media="(max-width: 1024px)"><% } %> <% if (variants.desktopUrl && variants.desktopUrlRetina) { %><source srcset="" data-image-src="<%= variants.desktopUrl.url %>, <%= variants.desktopUrlRetina.url %> 2x" media="(max-width: 1200px)"><% } %> <% if (variants.ultraWideUrl && variants.ultraWideUrlRetina) { %><source srcset="" data-image-src="<%= variants.ultraWideUrl.url %>, <%= variants.ultraWideUrlRetina.url %> 2x" media="(max-width: 1560px)"><% } %> <% if (variants.wideUrl && variants.wideUrlRetina) { %><source srcset="" data-image-src="<%= variants.wideUrl.url %>, <%= variants.wideUrlRetina.url %> 2x"><% } %> <% if (variants.desktopUrl) { %><img src="" data-image-src="<%= variants.desktopUrl.url %>" alt="<%= photo.title %>" class="hero-photo__image poly-object-fit"><% } %> </picture> </div>'),PULSE.app.templates["match-events"]=_.template('<% _.each(map, function(event) { %> <% if (event.type !== CONSTANTS.MATCH_EVENTS.ASSIST && event.teamId == teamId) { %> <div class="match-hero__event"> <span class="visually-hidden"><%= PULSE.I18N.lookup(\'label.match.event.description.\' + event.type) %></span> <% cssClass = event.type === CONSTANTS.MATCH_EVENTS.OWNGOAL ? \'own-goal\' : (event.type === CONSTANTS.MATCH_EVENTS.GOAL ? \'goal\' : \'card\') %> <% icon = event.type === CONSTANTS.MATCH_EVENTS.GOAL || event.type === CONSTANTS.MATCH_EVENTS.OWNGOAL ? \'goal\' : \'card\' %> <svg class="match-hero__event-icon match-hero__event-icon--<%= cssClass %>"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/match-centre.svg#<%= icon %>"></use></svg> <% if (event.type === CONSTANTS.MATCH_EVENTS.YELLOWRED) { %> <svg class="match-hero__event-icon match-hero__event-icon--yellow-red-card"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/match-centre.svg#card"></use></svg> <% } %> <div class="match-hero__event-time"> <% player = FIXTURE_HELPER.getPlayer(event.personId, fixture) %> <% _.each(event.events, function(timeEvent, index) { %> <%= timeEvent %><% if (index < event.events.length - 1) { %>,<% } %> <% }) %> <span class="match-hero__event-player"><%= PLAYER_HELPER.getPlayerName(player) %></span> </div> </div> <% } %> <% }); %>'),PULSE.app.templates["photo-modal-content"]=_.template('<picture class="photo-modal__photo"> <% _.each(picture.srcset, function( set ) { %> <source srcset="<%= set.src %>" <% if (set.media) { %> media="<%= set.media %>" <% } %>> <% }) %> <img src="<%= picture.img %>" class="js-modal-photo" alt="<%= title %>"> </picture>'),PULSE.app.templates["photo-modal"]=_.template('<div class="modal photo-modal js-photo-modal"> <div class="photo-modal__content js-photo-modal-content"></div> <div class="photo-modal__close js-modal-close" role="button" tabindex="0"> <span class="visually-hidden"><%= PULSE.I18N.lookup(\'label.close\') %> </span> <svg class="icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#close"></use></svg> </div> <div class="loader photo-modal__loader js-photo-modal-loader"></div> </div>'),PULSE.app.templates["slider-paginator"]=_.template('<% for ( var i = 0; i < slideNum; i++ ) { %> <li class="<%= widgetClass %>__control-wrap"> <button class="<%= widgetClass %>__pager js-pager-btn"> <span class="visually-hidden">${ cmsutil.i18n.lookup( \'label.page\' ) }-${ i + 1 }</span> </button> </li> <% } %>'),PULSE.app.templates["user-entitlement"]=_.template('<div class="user-entitlement"> <div class="user-entitlement__title"><%= title %></div> <div class="user-entitlement__description"><%= description %></div> <div class="user-entitlement__cta"> <button class="button button--secondary button--large user-entitlement__register js-register-btn"> <%= PULSE.I18N.lookup(\'label.register-for-free\') %> </button> <div class="user-entitlement__separator"><span><%= PULSE.I18N.lookup(\'label.or\') %></span></div> <span class="user-entitlement__already-registered"><%= PULSE.I18N.lookup(\'label.already-registered-login\') %></span> <button class="button button--primary button--large user-entitlement__login js-login-btn"> <%= PULSE.I18N.lookup(\'label.login\') %> </button> </div> </div>'),PULSE.app.templates["dropdown-item"]=_.template('<% if ( defaultOption && separateDefault ) { %> <li class="dropdown__list-option is-selected js-dropdown-option js-dropdown-default" role="option" tabindex="0" data-option-name="<%= defaultOption %>" data-option-id="-1" data-option-index="-1"> <%= defaultOption %> </li> <% } %> <% _.each( data, function( option, index ) { %> <% var defaultOptionLabel = defaultOption !== false && ( defaultOption === option.optionLabel ) %> <% var defaultOptionIndexCorrect = defaultOptionIndex !== false && index === defaultOptionIndex  %> <% var defaultOptionIdCorrect = defaultOptionId !== false && defaultOptionId === option.optionId %> <li class="dropdown__list-option js-dropdown-option <%= defaultOptionLabel || defaultOptionIndexCorrect || defaultOptionIdCorrect ? \'is-selected js-dropdown-default\' : \'\' %>" role="option" tabindex="0" data-option-name="<%= option.optionLabel %>" data-option-id="<%= option.optionId %>" data-option-index="<%= index %>"> <%= option.optionLabel %> </li> <% } ); %>'),PULSE.app.templates["dropdown-mobile-item"]=_.template('<% if ( defaultOption && separateDefault ) { %> <li class="dropdown-mobile__list-option is-selected js-dropdown-option js-dropdown-default" role="option" tabindex="0" data-option-name="<%= defaultOption %>" data-option-id="-1" data-option-index="-1"> <svg class="icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#tick"></use></svg> <span><%= defaultOption %></span> </li> <% } %> <% _.each( data, function( option, index ) { %> <% var defaultOptionLabel = defaultOption !== false && ( defaultOption === option.optionLabel ) %> <% var defaultOptionIndex = defaultOptionIndex !== false && index === defaultOptionIndex  %> <% var defaultOptionIdCorrect = defaultOptionId !== false && defaultOptionId === option.optionId %> <li class="dropdown-mobile__list-option js-dropdown-option <%= defaultOptionLabel || defaultOptionIdCorrect || (defaultOption && !separateDefault) ? \'is-selected js-dropdown-default\' : \'\' %>" role="option" tabindex="0" data-option-name="<%= option.optionLabel %>" data-option-id="<%= option.optionId %>" data-option-index="<%= index %>"> <svg class="icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#tick"></use></svg> <span><%= option.optionLabel %></span> </li> <% } ); %>'),PULSE.app.templates["dropdown-mobile"]=_.template('<div class="dropdown-mobile" data-dropdown-block="<%= dropdown.name %>"> <div class="dropdown-mobile__label"> <%= PULSE.I18N.lookup(\'label.filter.select\') %> <span><%= PULSE.I18N.lookup(dropdown.label) %></span> </div> <ul class="dropdown-mobile__list" data-dropdown-list="<%= dropdown.name %>" role="listbox"> <% if ( dropdown.defaultOption && dropdown.separateDefault ) { %> <li class="dropdown-mobile__list-option is-selected js-dropdown-option js-dropdown-default" role="option" tabindex="0" data-option-name="<%= dropdown.defaultOption %>" data-option-id="-1" data-option-index="-1"> <svg class="icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#tick"></use></svg> <span><%= dropdown.defaultOption %></span> </li> <% } %> <% if (dropdown.data) { %> <% _.each( dropdown.data, function( option, index ) { %> <li class="dropdown-mobile__list-option <%= ( dropdown.defaultOption && dropdown.defaultOption === option.optionLabel ) ? \'is-selected js-dropdown-default\' : \'\' %> js-dropdown-option" role="option" tabindex="0" data-option-name="<%= option.optionLabel %>" data-option-id="<%= option.optionId %>" data-option-index="<%= index %>"> <svg class="icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#tick"></use></svg> <span><%= option.optionLabel %></span> </li> <% } ); %> <% } %> </ul> </div>'),PULSE.app.templates.dropdown=_.template('<div class="dropdown" role="button" tabindex="0" data-dropdown-block="<%= dropdown.name %>"> <div class="dropdown__label"><%= PULSE.I18N.lookup(dropdown.label) %></div> <div class="dropdown__current js-dropdown-current"> <%= dropdown.defaultOption %> </div> <svg class="dropdown__icon dropdown__icon--chevron icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#caret-down"></use></svg> <svg class="dropdown__icon dropdown__icon--close icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#close"></use></svg> <ul class="dropdown__list" data-dropdown-list="<%= dropdown.name %>" role="listbox"> <% if ( dropdown.defaultOption && dropdown.separateDefault ) { %> <li class="dropdown__list-option is-selected js-dropdown-option js-dropdown-default" role="option" tabindex="0" data-option-name="<%= dropdown.defaultOption %>" data-option-id="-1" data-option-index="-1"> <%= dropdown.defaultOption %> </li> <% } %> <% if (dropdown.data) { %> <% _.each( dropdown.data, function( option, index ) { %> <li class="dropdown__list-option js-dropdown-option <%= ( dropdown.defaultOption && ( dropdown.defaultOption === option.optionLabel ) ) ? \'is-selected js-dropdown-default\' : \'\' %> " role="option" tabindex="0" data-option-name="<%= option.optionLabel %>" data-option-id="<%= option.optionId %>" data-option-index="<%= index %>"> <%= option.optionLabel %> </li> <% } ); %> <% } %> </ul> <div class="dropdown__list-triangle"></div> <div class="loader loader--small"></div> </div>'),PULSE.app.templates["lazy-picture-element"]=_.template('<source srcset="<%= imgUrlStandard %>, <%= imgUrlRetina %> 2x"> <img class="lazy-image__img js-faded-image" src="<%= imgUrlStandard %>" alt="<%= imgAlt %>">'),PULSE.app.templates["intersection-nav-items"]=_.template("<% if( dates.length > 1 ) { %> <% dates.forEach( function(date) { %> <div tabindex=\"0\" data-href=\"#<%= date ? date.format( 'YYYY' ) : PULSE.I18N.lookup( 'label.fixture.tbc' ) %>-<%= date ? date.format( 'MMM' ) : PULSE.I18N.lookup( 'label.fixture.tbc' ) %>\" class=\"section-navigation__text-container js-fixture-list-date-container\"> <div class=\"section-navigation__subheading\"> <%if (language === 'ja') { %> <% var dateYear = date.format( 'YYYY年' ); %> <% } else { %> <% var dateYear = date.format( 'YYYY' ); %> <% } %> <%= date ? dateYear : PULSE.I18N.lookup( 'label.fixture.tbc' ) %> </div> <div class=\"section-navigation__heading\"> <%= date ? date.format( 'MMM' ) : PULSE.I18N.lookup( 'label.fixture.tbc' ) %> </div> </div> <% } ); %> <% } %>"),PULSE.app.templates.facebook_card=_.template('<% var hasPhoto = (typeof photo !== \'undefined\' && photo) ? true : false; %> <div class="social-feed-card social-feed-card--facebook <% if (!hasPhoto) { %>social-feed-card--no-photo<% } %>"> <div class="social-feed-card__social-logo"> <svg class="icon"> <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#facebook"></use> </svg> </div> <% if ( hasPhoto ) { %> <div class="social-feed-card__image-container"> <a href="<%= link %>" target="_blank" rel="noopener" class="social-feed-card__imageLink"> <img class="social-feed-card__image" src="<%= photo %>" alt="<%= PULSE.I18N.lookup(\'label.social.user-profile-image\', { username: user.name }) %>"> <span class="u-screen-reader"><%= PULSE.I18N.lookup(\'label.social.viewuser\', { username: user.name }) %></span> </a> </div> <% } %> <a href="<%= link %>" target="_blank" rel="noopener" class="social-feed-card__profile-image"> <img src="<%= user.avatarUrl %>" alt="<%=user.account%> Profile Image"> </a> <% if ( hasPhoto ) { %> <div class="social-feed-card__content-container"> <% } %> <div class="social-feed-card__content <% if ( !hasPhoto ) { %> social-feed-card__content--large <% } %>"> <div class="social-feed-card__content-header"> <a href="<%= link %>" target="_blank" rel="noopener" class="social-feed-card__account-name"><%= user.name %></a><span class="social-feed-card__account-handle"> <%= user.account %></span><span class="social-feed-card__time">• <%= timestamp %></span> </div> <div class="social-feed-card__content-body"><%= text %></div> </div> <% if ( hasPhoto ) { %> </div> <% } %> <div class="social-feed-card__share-options"> <div class="social-feed-card__share-container"> <a class="social-feed-card__interaction" href="<%= link %>" target="_blank" rel="noopener"> <svg class="icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/social-feed.svg#facebook-share"></use></svg> <span class="social-feed-card__share-text"><%= PULSE.I18N.lookup(\'label.share\') %></span> </a> </div> </div> </div>'),PULSE.app.templates.instagram_card=_.template('<% var hasPhoto = (typeof photo !== \'undefined\' && photo) ? true : false; %> <div class="social-feed-card social-feed-card--instagram <% if (!hasPhoto) { %>social-feed-card--no-photo<% } %>"> <div class="social-feed-card__social-logo"> <svg class="icon"> <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#instagram"></use> </svg> </div> <% if (hasPhoto) { %> <div class="social-feed-card__image-container"> <a href="<%= link %>" target="_blank" rel="noopener" class="social-feed-card__imageLink"> <img class="social-feed-card__image" src="<%= photo %>" alt="<%= PULSE.I18N.lookup(\'label.social.user-profile-image\', { username: user.name }) %>"> <span class="u-screen-reader"><%= PULSE.I18N.lookup(\'label.social.viewuser\', { username: user.name }) %></span> </a> </div> <% } %> <a href="<%= link %>" target="_blank" rel="noopener" class="social-feed-card__profile-image"> <img src="<%= user.avatarUrl %>" alt="<%=user.account%> Profile Image"> </a> <% if ( hasPhoto ) { %> <div class="social-feed-card__content-container"> <% } %> <div class="social-feed-card__content <% if ( !hasPhoto ) { %> social-feed-card__content--large <% } %>"> <div class="social-feed-card__content-header"> <a href="<%= link %>" target="_blank" rel="noopener" class="social-feed-card__account-name"><%= user.name %></a><span class="social-feed-card__account-handle"> <%= user.account %></span><span class="social-feed-card__time">• <%= timestamp %></span> </div> <div class="social-feed-card__content-body"><%= text %></div> </div> <% if ( hasPhoto ) { %> </div> <% } %> <div class="social-feed-card__share-options"> <div class="social-feed-card__share-container"> <a class="social-feed-card__interaction" href="<%= link %>" target="_blank" rel="noopener"> <svg class="icon"> <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/social-feed.svg#insta-like"></use> </svg> <span class="u-screen-reader"><%= PULSE.I18N.lookup(\'label.social.favourite\') %></span> </a> <a class="social-feed-card__interaction" href="<%= link %>" target="_blank" rel="noopener"> <svg class="icon"> <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/social-feed.svg#insta-comment"></use> </svg> <span class="u-screen-reader"><%= PULSE.I18N.lookup(\'label.social.comment\') %></span> </a> </div> </div> <div class="social-feed-card__brand-line"></div> </div>'),PULSE.app.templates.twitter_card=_.template('<% var hasPhoto = (typeof photo !== \'undefined\' && photo) ? true : false; %> <div class="social-feed-card social-feed-card--twitter <% if (!hasPhoto) { %>social-feed-card--no-photo<% } %>"> <div class="social-feed-card__social-logo"> <svg class="icon"> <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#twitter"></use> </svg> </div> <% if ( hasPhoto ) { %> <div class="social-feed-card__image-container"> <a href="<%= link %>" target="_blank" rel="noopener" class="social-feed-card__imageLink"> <img class="social-feed-card__image" src="<%= photo %>" alt="<%= PULSE.I18N.lookup(\'label.social.user-profile-image\', { username: user.name }) %>"> <span class="u-screen-reader"><%= PULSE.I18N.lookup(\'label.social.viewuser\', { username: user.name }) %></span> </a> </div> <% } %> <a href="<%= link %>" target="_blank" rel="noopener" class="social-feed-card__profile-image"> <img src="<%= user.avatarUrl %>" alt="<%=user.account%> Profile Image"> </a> <% if ( hasPhoto ) { %> <div class="social-feed-card__content-container"> <% } %> <div class="social-feed-card__content <% if ( !hasPhoto ) { %> social-feed-card__content--large <% } %>"> <div class="social-feed-card__content-header"> <a href="<%= link %>" target="_blank" rel="noopener" class="social-feed-card__account-name"><%= user.name %></a><span class="social-feed-card__account-handle"> <%= user.account %></span><span class="social-feed-card__time">• <%= timestamp %></span> </div> <div class="social-feed-card__content-body"><%= text %></div> </div> <% if ( hasPhoto ) { %> </div> <% } %> <div class="social-feed-card__share-options"> <div class="social-feed-card__share-container"> <a class="social-feed-card__interaction" href="https://twitter.com/intent/tweet?in_reply_to=<% if (typeof idTrimmed !== \'undefined\') { %><%= idTrimmed %><% } %>" target="_blank" rel="noopener"> <svg class="icon"> <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/social-feed.svg#twitter-comment"></use> </svg> <span class="u-screen-reader"><%= PULSE.I18N.lookup(\'label.social.replyto\') %></span> </a> <a class="social-feed-card__interaction" href="https://twitter.com/intent/retweet?tweet_id=<% if (typeof idTrimmed !== \'undefined\') { %><%= idTrimmed %><% } %>" target="_blank" rel="noopener"> <svg class="icon"> <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/social-feed.svg#twitter-retweet"></use> </svg> <span class="social-feed-card__share-text"><%= retweets %></span> <span class="u-screen-reader"><%= PULSE.I18N.lookup(\'label.social.retweet\') %></span> </a> <a class="social-feed-card__interaction" href="https://twitter.com/intent/like?tweet_id=<% if (typeof idTrimmed !== \'undefined\') { %><%= idTrimmed %><% } %>" target="_blank" rel="noopener"> <svg class="icon"> <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/social-feed.svg#twitter-like"></use> </svg> <span class="social-feed-card__share-text"><%= favorites %></span> <span class="u-screen-reader"><%= PULSE.I18N.lookup(\'label.social.favourite\') %></span> </a> </div> </div> </div>'),function(e,t){var a="fcb-sso-identity",n="fcb-sso-uuid",i=3,o=CONSTANTS.TIME.ONE_SECOND,r=CONSTANTS.TIME.ONE_SECOND*i,l=function(e){var t=new RegExp(e+"=([^;]+)"),a=t.exec(document.cookie);return null!==a?unescape(a[1]):null},s=function(e,t,a){return"undefined"==typeof _satellite?console.warn("Unable to fire analytics event, analytics disabled."):(_satellite.setVar({catFCB:e,actFCB:t,labelFCB:a}),void _satellite.track("scEvent"))},c=function(){fcbDL.usuari.tipusUsuari=l(a)?"fan":"general",fcbDL.contingut.URL=window.location.href,"undefined"!=typeof _satellite&&_satellite.track&&_satellite.track("scVPage")};PULSE.app.checkLogin=function(){var e=l(n);if(e){var a="barcafans-"+e;fcbDL.usuari.idUsuari=a;var i=t.url.getParam("ref_url");"register"===t.url.getParam("auth_event")&&("facebook"===t.url.getParam("auth_method")?(window.setTimeout(function(){s("registre",i,"facebook")},o),window.setTimeout(function(){s("login",i,"facebook")},r)):"google"===t.url.getParam("auth_method")?(window.setTimeout(function(){s("registre",i,"google")},o),window.setTimeout(function(){s("login",i,"google")},r)):(window.setTimeout(function(){s("registre",i,"formulari")},o),window.setTimeout(function(){s("login",i,"formulari")},r)),window.setTimeout(function(){fcbDL.contingut.pageName="/registre",c()},o),window.setTimeout(function(){fcbDL.contingut.pageName="/login",c()},r)),"login"===t.url.getParam("auth_event")&&("facebook"===t.url.getParam("auth_method")?window.setTimeout(function(){s("login",i,"facebook")},o):"google"===t.url.getParam("auth_method")?window.setTimeout(function(){s("login",i,"google")},o):window.setTimeout(function(){s("login",i,"formulari")},o),window.setTimeout(function(){fcbDL.contingut.pageName="/login",c()},o))}},"undefined"!=typeof fcbDL&&PULSE.app.checkLogin()}(PULSE.app,PULSE.core);var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};!function(e){var t=function(){var e=this;switch(e.getContentType()){case"playlist":return"PHOTO"===e.getTypeRestriction()?"content-gallery-item":"";case"video":return"content-video-item";case"text":return"content-news-feed-item";default:return""}};e.ContentModel=function(t,a){var n=this;n.data=t,n.type=t.type,n.hotlinkUrl=t.hotlinkUrl,n.featured=TEMPLATE_HELPER.contentHasTag(t.tags,CONSTANTS.TAGS.TYPE.FEATURED.tag),n.featured=TEMPLATE_HELPER.contentHasTag(t.tags,CONSTANTS.TAGS.TYPE.FEATURED.tag),n["static"]="text"===t.type&&!TEMPLATE_HELPER.contentHasTag(t.tags,CONSTANTS.TAGS.TYPE.NEWS.tag),n.config=Object.freeze(_extends({},PRESET_CONFIG.CONTENT_MODEL,a)),n.element=n.getHtmlElement(),n.element&&(n.lazyImage=new e.LazyPictureElement(n.element.querySelector("."+CONSTANTS.JS_CLS_NAMES.LAZY_PICTURE_ELEMENT)))},e.ContentModel.prototype.getHtml=function(){var e=this,a={config:e.config,coverItem:e.getCoverItem(),dateMillis:e.getDateMillis(),description:e.getDescription(),id:e.getId(),isFeatured:e.isFeatured(),isStatic:e.isStatic(),itemCount:e.getDataItemCount(),leadMedia:e.getLeadMedia(),publishDate:e.getPublishDate(),publishFrom:e.getPublishFrom(),tags:e.getTags(),title:e.getTitle(),subtitle:e.getSubtitle(),hotlink:e.getHotlink(),url:e.getUrl()||""};return"video"===e.type&&(a.categoryLabel=e.getCategoryLabel(),a.duration=e.getDuration(),a.entitlement=e.getEntitlement(),a.mediaId=e.getMediaId(),a.views=e.getViews()),TEMPLATE_HELPER.render(a,e.config.template||t.call(e))},e.ContentModel.prototype.getContentType=function(){var e=this;return e.type},e.ContentModel.prototype.getCategoryLabel=function(){var e=this,t=VIDEO_HELPER.getTagByPartial(e.data.tags,"content-category");return t?PULSE.I18N.lookup("label.category."+t.label.replace("content-category-","")):null},e.ContentModel.prototype.getCoverItem=function(){var e=this;return e.data.coverItem||!1},e.ContentModel.prototype.getDataItemCount=function(){var e=this;return e.data&&e.data.items?e.data.items.length:0},e.ContentModel.prototype.getDateMillis=function(){var e=this;return e.data.publishFrom},e.ContentModel.prototype.getDescription=function(){var e=this;return e.data.description},e.ContentModel.prototype.getDuration=function(){var e=this;return VIDEO_HELPER.formatDuration(VIDEO_HELPER.parseDuration(e.data.duration))},e.ContentModel.prototype.getEntitlement=function(){var e=this;return VIDEO_HELPER.getEntitlement(e.data)},e.ContentModel.prototype.getHtmlElement=function(){return document.createRange().createContextualFragment(this.getHtml())},e.ContentModel.prototype.getId=function(){var e=this;return e.data.id},e.ContentModel.prototype.getLeadMedia=function(){var e=this;return e.data.leadMedia||e.data.thumbnail||null},e.ContentModel.prototype.getMediaId=function(){var e=this;return e.data.mediaId},e.ContentModel.prototype.getPublishDate=function(){var e=this;return moment(e.data.publishFrom).format(e.config.getDateFormat())},e.ContentModel.prototype.getPublishFrom=function(){var e=this;return e.data.publishFrom},e.ContentModel.prototype.getTags=function(){var e=this;return e.data.tags},e.ContentModel.prototype.getTitle=function(){var e=this;return e.data.title},e.ContentModel.prototype.getSubtitle=function(){var e=this;return e.data.subtitle},e.ContentModel.prototype.getTypeRestriction=function(){var e=this;return e.data.typeRestriction},e.ContentModel.prototype.getUrl=function(){var e=this;if(e.hotlinkUrl)return e.hotlinkUrl;var t="text"===e.getContentType()?e.isFeatured()?"featured":null:e.getTypeRestriction();return URL_HELPER.generateUrl(e["static"]?"static":e.getContentType(),e.getId(),t,e.getTitle(),"https",e.getTags());
},e.ContentModel.prototype.getViews=function(){var e=this;return VIDEO_HELPER.renderViews(e.data.views)},e.ContentModel.prototype.isFeatured=function(){var e=this;return e.featured},e.ContentModel.prototype.getHotlink=function(){var e=this;return e.hotlinkUrl},e.ContentModel.prototype.isStatic=function(){var e=this;return e["static"]}}(PULSE.app.common),function(e,t){var a="content-slider__slide-arrow--inactive",n="content-slider__item-wrap"+CONSTANTS.STYLE_CLS_MODIFIERS.ACTIVE,i="js-next",o="content-slider__list--nudge-left",r="content-slider__list--nudge-right",l="content-slider__pager--active",s="js-pager-btn",c="js-pager-items",d="data-slide",u="js-prev",p="js-slide",m="js-thumb";e.ContentSlider=function(e){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},h=this;h.container=e,h.itemsPerPage=parseInt(h.container.getAttribute(d)),h.scrollContainer=h.container.querySelector("."+p),h.slider=new t.Slider({buttonHideClass:a,container:h.container,itemActiveClass:f.itemActiveClass||n,nextButton:h.container.querySelector("."+i),nudgeLeftClass:o,nudgeRightClass:r,pagerActiveClass:l,pagerElements:h.container.querySelectorAll("."+s),pagerItemsContainer:h.container.querySelector("."+c),perPage:h.itemsPerPage,prevButton:h.container.querySelector("."+u),slideContainer:h.scrollContainer,sliderElements:h.scrollContainer.querySelectorAll("."+m)}),h.imageSet=DOM_HELPER.nodeListToArray(h.container.querySelectorAll("picture")),h.imageSet.forEach(function(e){new t.LazyPictureElement(e)})}}(PULSE.app,PULSE.app.common),function(e,t,a){var n=function(e){var t="";return e.contentType||(t+="The content event must include a contentType or 'data-tracker-type' on the element/n"),e.contentId||(t+="The content event must include a contentId or 'data-tracker-id' on the element/n"),e.action||(t+="The content event must include an action or 'data-tracker-action' on the element/n"),t},i=function(){};e.contentTracker=function(e,o,r,l){var s={contentType:r||e.getAttribute("data-tracker-type"),contentId:l||e.getAttribute("data-tracker-id"),action:o||e.getAttribute("data-tracker-action")},c=n(s);if(c.length>0)return c;var d={url:t.environment.trackingAPI,headers:[t.accountHeader],data:s,method:"POST",callback:i};return a.data.manager.add(d),!0};for(var o=document.querySelectorAll("[data-tracker-action]"),r=0;r<o.length;r++)e.contentTracker(o[r])}(PULSE.app.common,PULSE.app,PULSE.core),function(e,t){var a=["days","hours","minutes","seconds"],n=10,i="js-countdown-clock",o="js-countdown-days",r="js-countdown-hours",l="js-countdown-minutes",s="js-countdown-seconds",c="countdown-ended",d=function(e,t){return Math.floor(e/t)},u=function(){var e=this;e.clock=e.element.querySelector("."+i),e.divisions={days:e.element.querySelector("."+o),hours:e.element.querySelector("."+r),minutes:e.element.querySelector("."+l),seconds:e.element.querySelector("."+s)},t.style.removeClass(e.clock,CONSTANTS.STYLE_CLS_NAMES.VISUALLY_HIDDEN),v.call(e),e.liveRefresh=setInterval(function(){v.call(e)},CONSTANTS.TIME.ONE_SECOND)},p=function(){var e=this;t.style.addClass(e.element,"has-finished"),clearInterval(e.liveRefresh),e.subscribeSelectors&&m.call(e)},m=function(){for(var e=this,a=document.querySelectorAll(e.subscribeSelectors),n=0;n<a.length;n++)t.style.addClass(a[n],c)},f=function(e,t){var a=this;a.divisions[t].innerHTML=e<n?"0"+e:e},h=function(e){var a=this;t.style.addClass(a.divisions[e].parentNode.parentNode,"is-zero")},v=function(){var e=this,t=(new Date).getTime(),n=e.time-t;if(n<=0)p.call(e);else for(var i=0,o=0,r=0;r<a.length;r++){var l=0;switch(a[r]){case"days":l=d(n,CONSTANTS.TIME.ONE_DAY),i=l,n-=l*CONSTANTS.TIME.ONE_DAY,0===i&&h.call(e,"days");break;case"hours":l=d(n,CONSTANTS.TIME.ONE_HOUR),o=l,n-=l*CONSTANTS.TIME.ONE_HOUR,0===i&&0===l&&h.call(e,"hours");break;case"minutes":l=d(n,CONSTANTS.TIME.ONE_MINUTE),n-=l*CONSTANTS.TIME.ONE_MINUTE,0===i&&0===o&&0===l&&h.call(e,"minutes");break;case"seconds":l=d(n,CONSTANTS.TIME.ONE_SECOND),n-=l*CONSTANTS.TIME.ONE_SECOND}f.call(e,l,a[r])}};e.CountdownClock=function(e){var t=this;t.element=e,t.time=Number(t.element.getAttribute("data-timestamp")),t.subscribeSelectors=t.element.getAttribute("data-subscribe-elems"),Number.isNaN(t.time)||u.call(t)};for(var E=document.querySelectorAll('[data-widget="countdown"]'),g=0;g<E.length;g++)new e.CountdownClock(E[g])}(PULSE.app.common,PULSE.core);var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};!function(e,t){var a="js-dropdown-current",n="js-dropdown-option",i="js-dropdown-default",o=function(){var e=this;t.dom.appendDomString(e.config.container,TEMPLATE_HELPER.render({dropdown:e.config.dropdown},"dropdown")),e.element=e.config.container.querySelector('[data-dropdown-block="'+e.config.dropdown.name+'"]'),e.current=e.element.querySelector("."+a),e.list=e.element.querySelector('[data-dropdown-list="'+e.config.dropdown.name+'"]'),e.defaultOption=e.list.querySelector("."+i),e.selectedOption=e.list.querySelector("."+CONSTANTS.STYLE_CLS_NAMES.IS_SELECTED)},r=function(){var e=this;t.dom.appendDomString(e.config.mobileContainer,TEMPLATE_HELPER.render({dropdown:e.config.dropdown},"dropdown-mobile")),e.mobileElement=e.config.mobileContainer.querySelector('[data-dropdown-block="'+e.config.dropdown.name+'"]'),e.mobileList=e.config.mobileContainer.querySelector('[data-dropdown-list="'+e.config.dropdown.name+'"]'),e.mobileDefaultOption=e.mobileList.querySelector("."+i),e.mobileSelectedOption=e.mobileList.querySelector("."+CONSTANTS.STYLE_CLS_NAMES.IS_SELECTED)},l=function(){var e=this;A11Y_HELPER.addListener(e.element,function(t){t.keyCode!==CONSTANTS.KEY_CODES.ENTER&&"click"!==t.type||e.toggleDropdown()})},s=function(){for(var e=this,t=e.list.querySelectorAll("."+n),a=e.mobileList.querySelectorAll("."+n),i=0;i<t.length;i++)A11Y_HELPER.addListener(t[i],function(t){t.keyCode!==CONSTANTS.KEY_CODES.ENTER&&"click"!==t.type||e.selectOption(t.currentTarget.getAttribute("data-option-index"))});for(var o=0;o<a.length;o++)a[o].addEventListener("click",function(t){e.selectOption(t.currentTarget.getAttribute("data-option-index"),!1,!0)})};e.Dropdown=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;t.config=e,o.call(t),r.call(t),l.call(t),s.call(t)},e.Dropdown.prototype.getName=function(){var e=this;return e.config.dropdown.name},e.Dropdown.prototype.toggleDropdown=function(){var e=this;if(t.style.hasClass(e.element,CONSTANTS.STYLE_CLS_NAMES.IS_OPEN))t.style.removeClass(e.element,CONSTANTS.STYLE_CLS_NAMES.IS_OPEN);else if(!e.disabled&&!t.style.hasClass(e.element,CONSTANTS.STYLE_CLS_NAMES.IS_LOADING)){for(var a=e.element.parentNode.querySelectorAll("[data-dropdown-block]"),n=0;n<a.length;n++)t.style.removeClass(a[n],CONSTANTS.STYLE_CLS_NAMES.IS_OPEN);t.style.addClass(e.element,CONSTANTS.STYLE_CLS_NAMES.IS_OPEN)}},e.Dropdown.prototype.setData=function(e){var a=this,n=CLONE_HELPER.cloneObject(a.config.dropdown);n.rawData=e,n.data=[],a.config.dropdown=n,e.forEach(function(e){var n={optionLabel:t.object.getNestedItemFromPath(a.config.dropdown.dataNamePath,e),optionId:t.object.getNestedItemFromPath(a.config.dropdown.dataIdPath,e)};a.config.dropdown.data.push(n)})},e.Dropdown.prototype.updateOptions=function(){var e=this;if(e.config.dropdown.data&&0!==e.config.dropdown.data.length){var t=_extends({defaultOption:!1,defaultOptionIndex:!1,defaultOptionId:!1},e.config.dropdown);if(e.list.innerHTML=TEMPLATE_HELPER.render(t,"dropdown-item"),e.mobileList.innerHTML=TEMPLATE_HELPER.render(t,"dropdown-mobile-item"),e.defaultOption=e.list.querySelector("."+i),e.selectedOption=e.list.querySelector("."+CONSTANTS.STYLE_CLS_NAMES.IS_SELECTED),e.mobileDefaultOption=e.mobileList.querySelector("."+i),e.mobileSelectedOption=e.mobileList.querySelector("."+CONSTANTS.STYLE_CLS_NAMES.IS_SELECTED),s.call(e),t.defaultOptionIndex!==!1)e.selectOption(t.defaultOptionIndex,!0);else if(t.defaultOptionId!==!1){var a=e.config.dropdown.data.findIndex(function(e){var a=e.optionId;return a===t.defaultOptionId});e.selectOption(a,!0)}}},e.Dropdown.prototype.getCurrentOption=function(){var e=this;return e.selectedOption?{optionId:e.selectedOption.getAttribute("data-option-id"),optionName:e.selectedOption.getAttribute("data-option-name")}:{}},e.Dropdown.prototype.getRawData=function(){return this.config.dropdown.rawData};var c=function(e,a){var n=this;e&&a&&(t.style.removeClass(e,CONSTANTS.STYLE_CLS_NAMES.IS_SELECTED),t.style.removeClass(a,CONSTANTS.STYLE_CLS_NAMES.IS_SELECTED)),n.selectedOption&&n.mobileSelectedOption&&(t.style.addClass(n.selectedOption,CONSTANTS.STYLE_CLS_NAMES.IS_SELECTED),t.style.addClass(n.mobileSelectedOption,CONSTANTS.STYLE_CLS_NAMES.IS_SELECTED))};e.Dropdown.prototype.selectOption=function(e,t,a){var n=this,o=n.selectedOption,r=n.mobileSelectedOption,l=!1,s=!1;e===CONSTANTS.FILTERS.DEFAULT_OPTION_ID?(l=n.list.querySelector("."+i),s=n.mobileList.querySelector("."+i)):(l=n.list.querySelector('[data-option-index="'+e+'"]'),s=n.mobileList.querySelector('[data-option-index="'+e+'"]')),n.selectedOption=l,n.mobileSelectedOption=s;var d=n.getCurrentOption(),u=d.optionId,p=d.optionName;c.call(n,o,r),n.current.innerText=p,t||"function"!=typeof n.config.onSelectCallback||n.config.onSelectCallback({dropdownName:n.config.dropdown.name,label:p,id:u,mobile:a})},e.Dropdown.prototype.disable=function(){var e=this;e.disabled=!0,t.style.addClass(e.element,CONSTANTS.STYLE_CLS_NAMES.IS_DISABLED),e.resetToDefault(!0)},e.Dropdown.prototype.enable=function(){var e=this;e.disabled=!1,t.style.removeClass(e.element,CONSTANTS.STYLE_CLS_NAMES.IS_DISABLED)},e.Dropdown.prototype.resetToDefault=function(e,a){var n=this;n.selectOption("-1",e),a&&(t.style.removeClass(n.element,CONSTANTS.STYLE_CLS_NAMES.IS_DISABLED),n.disabled=!1)}}(PULSE.app.common,PULSE.core),function(e,t){var a="embeddable-download--audio-playing",n="js-audio-player",i="js-link-element",o=function(){var e=this;A11Y_HELPER.addListener(e.link,function(t){t.preventDefault(),e.player.paused?e.player.play():e.player.pause()}),e.player.addEventListener("play",function(){t.style.addClass(e.container,a)}),e.player.addEventListener("pause",function(){t.style.removeClass(e.container,a)})};e.EmbeddableAudioDownload=function(e){var t=this;t.container=e,t.player=t.container.querySelector("."+n),t.link=t.container.querySelector("."+i),o.call(t)}}(PULSE.app.common,PULSE.core),function(e,t){var a="js-embeddable-photo-expand",n="js-photo-modal-content",i=function(){var e=this;e.modal=new t.Modal({items:[],openCallback:o.bind(e),template:"photo-modal"}),e.modalContentElem=e.modal.config.wrap.querySelector("."+n)},o=function(){var e=this,t={picture:JSON.parse(e.modal.thumbElement.dataset.fullscreenData),title:e.modal.thumbElement.dataset.title||""};e.modalContentElem.innerHTML=TEMPLATE_HELPER.render(t,"photo-modal-content")},r=function(){};r.prototype.addPhoto=function(e){var t=this,n=e.querySelector("."+a);t.modal||i.call(t),n&&t.modal.addThumbListeners([n])},t.photoEmbeds=new r}(PULSE.app,PULSE.app.common);var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};!function(e,t){t.FilterOptions=function(e,t){var a=this;a.filters=e,a.updateReferences(t)},t.FilterOptions.prototype.addRefsToFilters=function(){var e=this,t="";if("string"==typeof e.references)t+=e.references;else for(var a in e.references)e.references.hasOwnProperty(a)&&(t.length>0&&(t+=","),t+=a+":"+e.references[a]);e.filters.references=t},t.FilterOptions.prototype.updateFilters=function(e){var t=this;t.filters=URL_HELPER.sanitiseAPIParams(_extends({},t.filters,e))},t.FilterOptions.prototype.updateReferences=function(e){var t=this;e&&(t.references&&"string"!=typeof t.references?t.references=Object.assign({},t.references,e):t.references=e,t.addRefsToFilters())},t.FilterOptions.prototype.get=function(){var e=this;return e.filters}}(PULSE.core,PULSE.app.common);var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};!function(e,t,a,n){var i="filters__search--hide-icon",o="filters--is-active",r="filters__container--is-docked",l="is-loading",s="is-mobile-open",c="js-filters-apply-button",d="js-filter-container",u="js-filters-dropdowns",p="js-filters-label",m="js-filters-mobile-close",f="js-filters-mobile",h="js-filters-reset-button",v="js-mobile-filter-search-bar",E="js-filter-search-bar-input-mobile",g="js-filter-search-bar",S="js-filter-search-bar-input",b={FOOTBALL_TEAM:"teams",statuses:"statuses"},y=function(){var e=this;e.resetButton&&A11Y_HELPER.addListener(e.resetButton,function(t){t.keyCode!==CONSTANTS.KEY_CODES.ENTER&&"click"!==t.type||(t.preventDefault(),e.resetFilters())}),e.labelButton&&e.labelButton.addEventListener("click",function(){window.innerWidth<=CONSTANTS.BREAKPOINTS.PHABLET&&e.toggleMobile(!0)}),e.mobileCloseButton&&e.mobileCloseButton.addEventListener("click",function(){return e.toggleMobile(!1)}),e.applyButton&&e.applyButton.addEventListener("click",function(t){t.preventDefault(),U.call(e)})},C=function(e){var t=this;return t.footballFilters?Object.keys(t.footballFilters).reduce(function(e,a){var n=t.footballFilters[a];return e.replace("{{"+a+"}}",n)},e):e},L=function(){var a=this;a.config.dropdowns.forEach(function(i){var o={container:a.dropdownsContainer,mobileContainer:a.mobileContainer,dropdown:i,onSelectCallback:N.bind(a),hideFilters:a.hide.bind(a)},r=i.filterClass?e[i.filterClass]:e.Filter;if(a.dropdowns[i.name]=new r(o),i.dataUrl){var l={url:C.call(a,i.dataUrl),target:a,headers:[PULSE.app.accountHeader],callback:function(e){var t=e;"function"==typeof a.dropdowns[i.name].updateOptionsData&&(t=a.dropdowns[i.name].updateOptionsData(e,a.config.configData||{})),"competition"===i.name&&PULSE.store.dispatch(n.CompSeasons.successful(e.content)),w.call(a,t)},forceCallback:!0,data:i.name};t.data.manager.add(l)}}),t.style.addClass(a.element,a.config.activeCls)},T=function(){var e=this;e.references.split(",").forEach(function(t){var a=t.split(":");a[0]&&"undefined"!=typeof b[a[0]]&&(e.defaultFilters[b[a[0]]]=a[1])}),Object.keys(e.footballFilters).forEach(function(t){var a=e.footballFilters[t];"undefined"!=typeof b[t]&&(e.defaultFilters[b[t]]=a)}),e.filters=_.clone(e.defaultFilters)},w=function(e){var t=this;if(e.content&&0!==e.content.length&&e.fullXhttpResponse){var a=e.fullXhttpResponse.data,n=t.dropdowns[a].config.dropdown.ignore,i=CLONE_HELPER.cloneArray(e.content);n&&n.length>0&&(i=i.filter(function(e){return n.indexOf(e.id)===-1})),t.dropdowns[a].setData(i),t.dropdowns[a].updateOptions(),I.call(t,e.fullXhttpResponse.data,e)}},A=function(e,t){var a=this,n=a.dropdowns[e.dropdownName],i=n.config.dropdown;i.reset&&a.dropdowns[i.reset].resetToDefault(!0),I.call(a,e.dropdownName,!1,t)},P=function(){var e=this;e.filters=_.clone(e.defaultFilters);for(var t in e.dropdowns)if(e.dropdowns.hasOwnProperty(t)){var a=e.dropdowns[t];e.filters=_extends({},e.filters,a.getAPIParams(e.filters,!0))}},N=function(e){var t=this;A.call(t,e,function(){P.call(t),e.mobile||O.call(t,e),"function"==typeof t.config.onFilterSelect&&t.config.onFilterSelect(e)})},R=function(e,a){var n={},i=Object.keys(a).reduce(function(e,t){var i=a[t],o="{{"+t+"}}";return e.includes(o)?e.replace(o,i):(n[t]=i,e)},e),o=t.url.buildQueryString(URL_HELPER.sanitiseAPIParams(n));return o=o?"?"+o:"",""+i+o},O=function(e){var a=this,n=_extends({},a.config.apiParams,a.filters);if(a.config.preventFetch&&"function"==typeof a.config.onFilterUpdate)return void a.config.onFilterUpdate(n);a.config.apiParams&&(n.statuses=a.config.apiParams.statuses);var i={url:R(a.config.type,n),target:a,method:"GET",headers:[PULSE.app.accountHeader],callback:k,forceCallback:!0,data:!!e&&e.dropdownName};a.requests[i.url]?a.requests[i.url].request():a.requests[i.url]=t.data.manager.add(i),a.startLoading()},U=function(){var e=this;O.call(e,{}),e.toggleMobile(!1),e.config.parentWidget.scrollIntoView()},I=function(e,t,a){var n=this,i=n.dropdowns[e];return i&&i.config.dropdown.effects||"function"!=typeof a?void(n.dropdowns[i.config.dropdown.effects]&&n.dropdowns[i.config.dropdown.effects].shouldUpdateFromDependancy(t,i,a,n.footballFilters)):a()},x=function(e){var t=this;Object.keys(t.dropdowns).forEach(function(a){var n=t.dropdowns[a];"function"==typeof n.shouldUpdateFromData&&n.shouldUpdateFromData(e)})},k=function(e){var t=this;x.call(t,e),t.stopLoading(),"function"==typeof t.config.onFilterUpdate&&t.config.onFilterUpdate(e)};e.FilterController=function(t,a){var n=this;n.element=t,n.config=a,n.dropdowns={},n.defaultFilters={},n.filters={},n.requests={},n.requestDataHistory={},n.applyButton=n.element.querySelector("."+c),n.dropdownsContainer=n.element.querySelector("."+u),n.filterContainer=n.element.querySelector("."+d),n.footballFilters={COMPETITION_ID:n.element.getAttribute("data-football-filters-competitions")||CONSTANTS.FILTERS.DEFAULT_OPTION_ID,detail:n.element.getAttribute("data-football-filters-detail")||CONSTANTS.FILTERS.DEFAULT_OPTION_ID,FOOTBALL_TEAM:n.element.getAttribute("data-football-filters-teams")||CONSTANTS.FILTERS.DEFAULT_OPTION_ID,statuses:n.element.getAttribute("data-football-filters-statuses")||CONSTANTS.FILTERS.DEFAULT_OPTION_ID,SPORT_CODE:n.element.getAttribute("data-filter-set")||CONSTANTS.FILTERS.DEFAULT_OPTION_ID},n.mobileContainer=n.element.querySelector("."+f),n.mobileSearchElement=n.element.querySelector("."+v),n.mobileSearchInputElement=n.element.querySelector("."+E),n.references=n.element.getAttribute("data-references"),n.resetButton=n.element.querySelector("."+h),n.labelButton=n.element.querySelector("."+p),n.mobileCloseButton=n.element.querySelector("."+m),n.searchElement=n.element.querySelector("."+g),n.searchInputElement=n.element.querySelector("."+S),n.search=new e.SearchInput(n.searchElement,n.searchInputElement,i),n.mobileSearch=new e.SearchInput(n.mobileSearchElement,n.mobileSearchInputElement,i),L.call(n),T.call(n),y.call(n)},e.FilterController.prototype.hide=function(){var e=this;t.style.removeClass(e.element,o)},e.FilterController.prototype.show=function(){var e=this;t.style.addClass(e.element,o)},e.FilterController.prototype.unDock=function(){var e=this;t.style.removeClass(e.filterContainer,r),e.show()},e.FilterController.prototype.dock=function(){var e=this;t.style.addClass(e.filterContainer,r)},e.FilterController.prototype.resetFilters=function(){var e=this;e.filters=_.clone(e.defaultFilters),e.config.dropdowns.forEach(function(t,a){e.dropdowns[t.name].resetToDefault(!0,!0),P.call(e),I.call(e,t.name,!1,function(){if(P.call(e),a===e.config.dropdowns.length-1)if(e.config.resetByPrimaryFilter){var t=e.dropdowns[e.config.dropdowns[0].name];t.selectOption("-1",!1)}else O.call(e)})})},e.FilterController.prototype.startLoading=function(){var e=this;for(var a in e.dropdowns)e.dropdowns.hasOwnProperty(a)&&t.style.addClass(e.dropdowns[a].element,l)},e.FilterController.prototype.stopLoading=function(){var e=this;for(var a in e.dropdowns)e.dropdowns.hasOwnProperty(a)&&t.style.removeClass(e.dropdowns[a].element,l)},e.FilterController.prototype.toggleMobile=function(e){var a=this;e?(t.style.addClass(a.element,s),t.style.addClass(document.body,CONSTANTS.STYLE_CLS_NAMES.OVERFLOW_HIDDEN)):(t.style.removeClass(a.element,s),t.style.removeClass(document.body,CONSTANTS.STYLE_CLS_NAMES.OVERFLOW_HIDDEN))}}(PULSE.app.common,PULSE.core,PULSE.store,PULSE.app.actions);var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};!function(e,t){var a="[type=text]",n="[type=email]",i="[type=radio]",o="[type=checkbox]",r="[type=number]",l="select",s=function(e){var t=this;A11Y_HELPER.addListener(e,function(a){PULSE.store.dispatch(t.config.actions.updateForm(_defineProperty({},e.name,a.target.checked)))})},c=function(){var e=this,t=this,a=t.config.validations;Object.keys(a).forEach(function(n,i){var o=t.elem.querySelector('[name="'+n+'"]');o&&"function"==typeof a[n]&&(t.validations[i]=a[n].call(t.config.target||e,{target:o}))}),h.call(t)},d=function(e){var t=this;e.addEventListener("submit",function(e){if(e.preventDefault(),c.call(t),t.config.submitUrl&&t.elem.checkValidity()&&t.isValid){var a=t.config.submitUrl,n=t.config.dataPruner(getProp(t.name,PULSE.store.getState()).data);PULSE.store.dispatch(t.config.actions.init(a,"PUT",n,t.config.onNewNetworkData))}})},u=function(e){var a=this,n=watch(PULSE.store.getState,a.config.objectPath.concat(["fetching"])),i=watch(PULSE.store.getState,a.config.objectPath.concat(["submitting"])),o=function(a){a?t.style.removeClass(e,CONSTANTS.STYLE_CLS_NAMES.HIDE):t.style.addClass(e,CONSTANTS.STYLE_CLS_NAMES.HIDE)};PULSE.store.subscribe(n(o)),PULSE.store.subscribe(i(o))},p=function(e){var t=this;A11Y_HELPER.addListener(e,function(a){PULSE.store.dispatch(t.config.actions.updateForm(_defineProperty({},e.name,a.target.value)))})},m=function(e){var t=this;e.addEventListener("change",function(a){PULSE.store.dispatch(t.config.actions.updateForm(_defineProperty({},e.name,a.target.value)))})},f=function(){var e=this,t=this,a=t.config.validations,n=function(n){if(a.hasOwnProperty(n)&&"function"==typeof a[n]){var i=t.elem.querySelector('[name="'+n+'"]');if(i){var o=t.validations.push(!0)-1;i.addEventListener("blur",function(i){t.validations[o]=a[n].call(t.config.target||e,i),h.call(t)})}}};for(var i in a)n(i)},h=function(){var e=this;e.validations.includes(!1)?(e.isValid=!1,v.call(e)&&t.style.addClass(e.config.submitButton.elem,e.config.submitButton.disabledCls)):(e.isValid=!0,v.call(e)&&t.style.removeClass(e.config.submitButton.elem,e.config.submitButton.disabledCls))},v=function(){return this.config.submitButton&&this.config.submitButton.elem&&this.config.submitButton.disabledCls},E=function(e){var t=this,a=function(a){PULSE.store.dispatch(t.config.actions.updateForm(_defineProperty({},e.name,a.target.value)))};e.addEventListener("input",a),e.addEventListener("paste",a)};e.FormController=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=this;if(c.elem=e,c.name=t.objectPath.join("."),c.validations=[],c.config=_extends({actions:PULSE.app.actions.form(c.name),onNewNetworkData:!1},t),c.isValid=!0,!c.config.disableListeners){var h=e.querySelectorAll(a),v=e.querySelectorAll(n),S=e.querySelectorAll(i),_=e.querySelectorAll(o),b=e.querySelectorAll(r),y=e.querySelectorAll(l);[].concat(_toConsumableArray(h),_toConsumableArray(v),_toConsumableArray(b)).map(E.bind(c)),[].concat(_toConsumableArray(S)).map(p.bind(c)),[].concat(_toConsumableArray(_)).map(s.bind(c)),[].concat(_toConsumableArray(y)).map(m.bind(c)),d.call(c,c.elem),c.config.validations&&f.call(c)}c.config.loaderContainer&&u.call(c,c.config.loaderContainer),g.call(c)};var g=function(){var e=this,t=e.config.objectPath.concat(["fetchingFailed"]),a=e.config.objectPath.concat(["submissionFailed"]),n=watch(PULSE.store.getState,t);PULSE.store.subscribe(n(function(e){e&&(n(),USER_HELPER.logOut(!1),USER_HELPER.logIn())}));var i=watch(PULSE.store.getState,a);PULSE.store.subscribe(i(function(e){e&&alert(PULSE.I18N.lookup("label.account.failed"))}))};e.FormController.prototype.fetchForm=function(e){var t=this;PULSE.store.dispatch(t.config.actions.init(e,"GET",{},t.config.onNewNetworkData))}}(PULSE.app.common,PULSE.core),function(e){var t="js-gallery-modal",a="js-gallery-slider",n="js-gallery-expand",i=function(){var a=this;a.modal=new e.Modal({wrap:document.querySelector("."+t),items:document.querySelectorAll("."+n),openCallback:l.bind(a),closeCallback:r.bind(a)})},o=function(){var t=this;t.slider=new e.PhotoSlider({container:document.querySelector("."+a),thumbnails:document.querySelectorAll("."+n),partner:t.container.dataset.partner,playlistId:Number(t.container.dataset.playlist)})},r=function(){var e=this;e.slider.removeKeyUpListener(),SCREEN_HELPER.removeDebouncedEvent(e.scrollEvent)},l=function(){var e=this;e.slider.addKeyUpListener(),e.slider.updateViewport(e.modal.thumbElement),e.scrollEvent=SCREEN_HELPER.onDebouncedResize(e.slider.windowResize)};e.GalleryAlbum=function(e){var t=this;t.container=e,i.call(t),o.call(t)}}(PULSE.app.common),function(e,t,a){var n=function(e){var t=this,a={};return a.mobileUrl=IMAGE_HELPER.getPhotoByVariant(e.variants,t.variantName+" Article Hero - Mobile"),a.mobileUrlRetina=IMAGE_HELPER.getPhotoByVariant(e.variants,t.variantName+" Article Hero - Mobile (Retina)"),a.phabletUrl=IMAGE_HELPER.getPhotoByVariant(e.variants,t.variantName+" Article Hero - Phablet"),a.phabletUrlRetina=IMAGE_HELPER.getPhotoByVariant(e.variants,t.variantName+" Article Hero - Phablet (Retina)"),a.tabletUrl=IMAGE_HELPER.getPhotoByVariant(e.variants,t.variantName+" Article Hero - Tablet"),a.tabletUrlRetina=IMAGE_HELPER.getPhotoByVariant(e.variants,t.variantName+" Article Hero - Tablet (Retina)"),a.desktopSmallUrl=IMAGE_HELPER.getPhotoByVariant(e.variants,t.variantName+" Article Hero - Desktop Small"),a.desktopSmallUrlRetina=IMAGE_HELPER.getPhotoByVariant(e.variants,t.variantName+" Article Hero - Desktop Small (Retina)"),a.desktopUrl=IMAGE_HELPER.getPhotoByVariant(e.variants,t.variantName+" Article Hero - Desktop"),a.desktopUrlRetina=IMAGE_HELPER.getPhotoByVariant(e.variants,t.variantName+" Article Hero - Desktop (Retina)"),a.wideUrl=IMAGE_HELPER.getPhotoByVariant(e.variants,t.variantName+" Article Hero - Wide"),a.wideUrlRetina=IMAGE_HELPER.getPhotoByVariant(e.variants,t.variantName+" Article Hero - Wide (Retina)"),a},i=function(t){var n=this,i={pageSize:1};t||(n.references&&(i.references=n.references),n.tags&&(i.tagNames=n.tags));var r={callback:o,target:n,url:e.apiPath.cms.photo+"?"+a.url.buildQueryString(i)};t&&(r.url+="&"+n.fallback),a.data.manager.add(r)},o=function(e){var a=this;return e.content&&0!==e.content.length?(a.container.innerHTML=TEMPLATE_HELPER.render({photo:e.content[0],variants:a.createVariants(e.content[0])},"hero-photo"),void new t.LazyPictureElement(a.container.querySelector("."+CONSTANTS.JS_CLS_NAMES.LAZY_PICTURE_ELEMENT))):void(a.fallbackCall||(a.fallbackCall=!0,i.call(a,!0)))};t.HeroPhoto=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Featured",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=this;o.container=e,o.variantName=t,o.createVariants=a||n.bind(o),o.references=o.container.getAttribute("data-references"),o.fallback=o.container.getAttribute("data-fallback"),o.tags=o.container.getAttribute("data-tags"),o.fallbackCall=!1,i.call(o,!1)}}(PULSE.app,PULSE.app.common,PULSE.core),function(e,t,a){var n="js-match-hero-content",i="js-match-hero-footer",o="js-match-details",r="js-match-details-container",l="js-match-details-close",s="js-match-time",c="js-match-score",d="js-match-ht-container",u="js-match-ht-score",p="js-match-agg-container",m="js-match-agg-score",f="js-match-events-home",h="js-match-events-away",v="js-back-btn",E="js-mc-main-col",g="match-hero__footer--not-liga",S="match-details--active",_={U:"match-hero--pre-match",L:"match-hero--live",C:"match-hero--complete"},b="match-hero--phase-half-time",y=function(e){var t={};return t.mobileUrl=IMAGE_HELPER.getPhotoByVariant(e.variants,"Standard Article Hero - Mobile"),t.mobileUrlRetina=IMAGE_HELPER.getPhotoByVariant(e.variants,"Standard Article Hero - Mobile (Retina)"),t.phabletUrl=IMAGE_HELPER.getPhotoByVariant(e.variants,"Standard Article Hero - Phablet"),t.phabletUrlRetina=IMAGE_HELPER.getPhotoByVariant(e.variants,"Standard Article Hero - Phablet (Retina)"),t.tabletUrl=IMAGE_HELPER.getPhotoByVariant(e.variants,"Standard Article Hero - Tablet"),t.tabletUrlRetina=IMAGE_HELPER.getPhotoByVariant(e.variants,"Standard Article Hero - Tablet (Retina)"),t.desktopSmallUrl=IMAGE_HELPER.getPhotoByVariant(e.variants,"Featured Article Hero - Desktop Small"),t.desktopSmallUrlRetina=IMAGE_HELPER.getPhotoByVariant(e.variants,"Featured Article Hero - Desktop Small (Retina)"),t.desktopUrl=IMAGE_HELPER.getPhotoByVariant(e.variants,"Standard Article Hero - Desktop"),t.desktopUrlRetina=IMAGE_HELPER.getPhotoByVariant(e.variants,"Standard Article Hero - Desktop (Retina)"),t.wideUrl=IMAGE_HELPER.getPhotoByVariant(e.variants,"Featured Article Hero - Wide"),t.wideUrlRetina=IMAGE_HELPER.getPhotoByVariant(e.variants,"Featured Article Hero - Wide (Retina)"),t.ultraWideUrl=IMAGE_HELPER.getPhotoByVariant(e.variants,"Standard Article Hero - Wide"),t.ultraWideUrlRetina=IMAGE_HELPER.getPhotoByVariant(e.variants,"Standard Article Hero - Wide (Retina)"),t},C=function(e){var t=[],a=[];return e.forEach(function(n){if(n.personId&&n.description){var i=n.description;n.description===CONSTANTS.MATCH_EVENTS.PENALTY&&(i=CONSTANTS.MATCH_EVENTS.GOAL),i===CONSTANTS.MATCH_EVENTS.RED||i===CONSTANTS.MATCH_EVENTS.YELLOWRED?t.push({type:i,personId:n.personId,teamId:n.teamId,events:[FIXTURE_HELPER.getAdditionalEventTime(n)]}):i!==CONSTANTS.MATCH_EVENTS.GOAL&&i!==CONSTANTS.MATCH_EVENTS.OWNGOAL||a.includes(n.personId+i)||(t.push(L(e,n,i,"personId")),a.push(n.personId+i))}}),deepFreeze(t)},L=function(e,t,a,n){var i=[];return e.forEach(function(e){var o=e.description||"";if(o===CONSTANTS.MATCH_EVENTS.PENALTY&&(o=CONSTANTS.MATCH_EVENTS.GOAL),e[n]&&e[n]===t[n]&&o===a){var r=FIXTURE_HELPER.formatMatchEventTime(e);i.push(r)}}),{type:a,personId:t[n],teamId:t.teamId,events:i}},T=function(){var e=this;document.referrer&&URL_HELPER.isBarcelonaDomain(document.referrer)&&e.backButton.setAttribute("href",document.referrer)};e.MatchHero=function(e,S){var _=arguments.length>2&&void 0!==arguments[2]&&arguments[2],b=this;b.container=e,b.heroPhotoElem=b.container.querySelector('[data-widget="hero-photo"]'),b.matchHeroContent=b.container.querySelector("."+n),b.matchDetailsElems=b.container.querySelectorAll("."+o),b.matchTimeElem=b.container.querySelector("."+s),b.matchScoreElem=b.container.querySelector("."+c),b.matchHTContainer=b.container.querySelector("."+d),b.matchHTScoreElem=b.container.querySelector("."+u),b.matchAggContainerElem=b.container.querySelector("."+p),b.matchAggScoreElem=b.container.querySelector("."+m),b.matchEventsHomeElem=b.container.querySelector("."+f),b.matchEventsAwayElem=b.container.querySelector("."+h),b.backButton=b.container.querySelector("."+v),b.matchDetailContainerElem=document.querySelector("."+r),b.matchDetailsCloseElem=document.querySelector("."+l),b.mainColElem=document.querySelector("."+E),b.matchHeroFooter=b.container.querySelector("."+i),b.liveBlogElem=document.querySelector('[data-widget="live-blog"]'),b.isLaLiga=Number(S)===CONSTANTS.FOOTBALL_COMPETITIONS.ES_PL,b.matchStatus=b.container.dataset.matchStatus,b.matchDetailContainerElem&&b.setMatchDetailListeners(),b.heroPhotoElem&&new t.HeroPhoto(b.heroPhotoElem,"",y),b.backButton&&T.call(b),_&&(b.setSlimHeroPosition(),SCREEN_HELPER.onDebouncedResize(b.setSlimHeroPosition.bind(b))),b.isLaLiga||_||a.style.addClass(b.matchHeroFooter,g)},e.MatchHero.prototype.matchStatusUpdate=function(e){var t=this;a.style.removeClass(t.container,_[t.matchStatus]),a.style.addClass(t.container,_[e]),t.matchStatus=e},e.MatchHero.prototype.setSlimHeroPosition=function(){var e=this,t=e.mainColElem.offsetWidth-e.mainColElem.clientWidth,a=window.innerWidth-e.mainColElem,n=a+t;e.container.style.right=n+"px"},e.MatchHero.prototype.setMatchDetailListeners=function(){for(var e=this,t=function(){return a.style.toggleClass(e.matchDetailContainerElem,S)},n=0;n<e.matchDetailsElems.length;n++){var i=e.matchDetailsElems[n];A11Y_HELPER.addListener(i,t)}A11Y_HELPER.addListener(e.matchDetailsCloseElem,function(){return a.style.removeClass(e.matchDetailContainerElem,S)})},e.MatchHero.prototype.updateClock=function(e){var t=this;t.matchTimeElem.innerText=FIXTURE_HELPER.getFixtureLength(e)},e.MatchHero.prototype.updateEvents=function(e){var t=this;if(e&&0!==e.length){var a=PULSE.store.getState().activeFixture.data,n=C(e);t.matchEventsHomeElem.innerHTML=TEMPLATE_HELPER.render({
fixture:a,map:n,teamId:a.teams[0].team.id},"match-events"),t.matchEventsAwayElem.innerHTML=TEMPLATE_HELPER.render({fixture:a,map:n,teamId:a.teams[1].team.id},"match-events")}},e.MatchHero.prototype.updateHalfTimeScore=function(e){var t=this,n=PULSE.store.getState().activeFixture.data;!n.halfTimeScore||e!==CONSTANTS.MATCH_PHASES.SECOND_HALF&&e!==CONSTANTS.MATCH_PHASES.FINISHED||(a.style.removeClass(t.matchHTContainer,CONSTANTS.STYLE_CLS_NAMES.U_HIDE),t.matchHTScoreElem.innerText=n.halfTimeScore.homeScore+" - "+n.halfTimeScore.awayScore),e===CONSTANTS.MATCH_PHASES.HALF_TIME?a.style.addClass(t.container,b):a.style.removeClass(t.container,b)},e.MatchHero.prototype.updateAggregateDetails=function(e){var t=this,n=PULSE.store.getState().activeFixture.data,i=e.legs[0];n.fixtureType===CONSTANTS.FIXTURE_ROUNDS.SECOND_LEG&&i.status===CONSTANTS.MATCH_STATES.COMPLETED&&(t.matchAggScoreElem.innerText=n.teams[0].score+i.teams[1].score+" - "+(n.teams[1].score+i.teams[0].score),a.style.removeClass(t.matchAggContainerElem,CONSTANTS.STYLE_CLS_NAMES.U_HIDE))},e.MatchHero.prototype.updateScore=function(e){var t=this;t.matchScoreElem.innerText=(e[0].score||0)+" - "+(e[1].score||0)},e.MatchHero.prototype.setStickyTopValue=function(){var e=this;if(window.innerWidth>CONSTANTS.BREAKPOINTS.DESKTOP_MINI){var t=e.container.offsetHeight,a=e.matchHeroContent.offsetHeight,n=t-a;e.container.style.top="-"+n+"px"}else e.container.style.top=0}}(PULSE.app,PULSE.app.common,PULSE.core),function(e,t){e.BreakpointLayoutSwitcher=function(e,a,n,i){var o=this;o.container=e,o.sourceContainer=o.container.querySelector(a),o.destinationContainer=o.container.querySelector(n);try{o.maxWidth=parseInt(i)}catch(r){console.warn("breakpoint must be an integer")}t.event.windowResize.add({method:o.onResize.bind(o)}),o.onResize()},e.BreakpointLayoutSwitcher.prototype.moveContents=function(e,t){for(var a=e.children.length,n=0;n<a;n++)t.appendChild(e.children[0])},e.BreakpointLayoutSwitcher.prototype.onResize=function(){var e=this;window.outerWidth>e.maxWidth&&e.moveContents(e.destinationContainer,e.sourceContainer),window.outerWidth<=e.maxWidth&&e.moveContents(e.sourceContainer,e.destinationContainer)}}(PULSE.app.common,PULSE.core),function(e){e.GlobalIntersectionObserver=new IntersectionObserver(function(t){var a=new Event(CONSTANTS.EVENT.ACTIVATE);t.forEach(function(t){t.isIntersecting&&(t.target.dispatchEvent(a),e.GlobalIntersectionObserver.unobserve(t.target))})},PRESET_CONFIG.OBSERVER_CONFIG)}(PULSE.app.common),function(e,t){var a="data-image-src",n="loaded",i=2;e.LazyPictureElement=function(t){var a=this;if(t){if(a.isOdir="true"===t.dataset.odir,a.pictureElement=t,!a.isOdir){if(a.mainImage=a.pictureElement.querySelector("img"),!a.mainImage)return;a.sourceElements=[].slice.call(a.pictureElement.querySelectorAll("source"))}e.GlobalIntersectionObserver.observe(a.pictureElement),a.pictureElement.addEventListener(CONSTANTS.EVENT.ACTIVATE,function(){a.isOdir?a.loadOdirPicture():a.loadVariantPicture()})}},e.LazyPictureElement.prototype.loadVariantPicture=function(){var e=this;e.sourceElements.forEach(function(e){var t=e.getAttribute(a)||"";e.setAttribute("srcset",t.trim())});var i=e.mainImage.getAttribute(a)||"";e.mainImage.setAttribute("src",i.trim()),e.mainImage.onload=function(){t.style.addClass(e.pictureElement,n)}},e.LazyPictureElement.prototype.loadOdirPicture=function(){var e=this,a=e.pictureElement.dataset.imgLoaded;if(!a){var o=e.pictureElement.offsetWidth,r=e.pictureElement.offsetHeight,l=e.pictureElement.dataset.imgSrc,s=l+"?width="+o+"&height="+r,c=l+"?width="+o*i+"&height="+r*i,d=e.pictureElement.dataset.imgAlt,u={imgUrlRetina:c,imgUrlStandard:s,fadeInOnLoad:!0,imgAlt:d},p=TEMPLATE_HELPER.render(u,"lazy-picture-element");e.pictureElement.innerHTML=p,e.pictureElement.setAttribute("data-img-loaded","true");var m=e.pictureElement.querySelector(".js-faded-image");m&&m.addEventListener("load",function(){t.style.addClass(e.pictureElement,n)})}},[].forEach.call(document.querySelectorAll("."+CONSTANTS.JS_CLS_NAMES.LAZY_PICTURE_ELEMENT),function(t){new e.LazyPictureElement(t,(!1))})}(PULSE.app.common,PULSE.core);var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};!function(e,t){var a=function(){var e=this;o.call(e),"function"==typeof e.config.callback&&e.config.callback(),e.config.infiniteScroll&&!e.scrollListenersSet&&n.call(e)},n=function(){var e=this,t=new IntersectionObserver(function(t){var n=!0,i=!1,o=void 0;try{for(var r,l=t[Symbol.iterator]();!(n=(r=l.next()).done);n=!0){var s=r.value;s.isIntersecting&&!e.loading&&a.call(e)}}catch(c){i=!0,o=c}finally{try{!n&&l["return"]&&l["return"]()}finally{if(i)throw o}}});t.observe(e.container),e.scrollListenersSet=!0},i=function(){var e=this;t.style.removeClass(e.button,CONSTANTS.STYLE_CLS_NAMES.U_HIDE),t.style.addClass(e.loader,CONSTANTS.STYLE_CLS_NAMES.U_HIDE)},o=function(){var e=this;t.style.addClass(e.button,CONSTANTS.STYLE_CLS_NAMES.U_HIDE),t.style.removeClass(e.loader,CONSTANTS.STYLE_CLS_NAMES.U_HIDE),e.loading=!0},r=function(){var e=this;t.style.addClass(e.loader,CONSTANTS.STYLE_CLS_NAMES.U_HIDE),t.style.removeClass(e.button,CONSTANTS.STYLE_CLS_NAMES.U_HIDE),e.loading=!1};e.ShowMore=function(e,t){var n=this;n.container=e,n.config=Object.freeze(_extends({},PRESET_CONFIG.SHOW_MORE,t)),n.button=n.container.querySelector("."+n.config.buttonClass),n.loader=n.container.querySelector("."+n.config.loaderClass),n.scrollListenersSet=!1,n.loading=!1,A11Y_HELPER.addListener(n.button,a.bind(n),!1)},e.ShowMore.prototype.contentLoaded=function(){r.call(this)},e.ShowMore.prototype.setPagination=function(e){var t=this;e.page<e.numPages-1?i.call(t):t.hide()},e.ShowMore.prototype.disable=function(){var e=this;t.style.addClass(e.container,CONSTANTS.STYLE_CLS_NAMES.U_HIDE)},e.ShowMore.prototype.hide=function(){var e=this;t.style.addClass(e.button,CONSTANTS.STYLE_CLS_NAMES.U_HIDE),t.style.addClass(e.loader,CONSTANTS.STYLE_CLS_NAMES.U_HIDE)},e.ShowMore.prototype.show=function(){var e=this;t.style.removeClass(e.button,CONSTANTS.STYLE_CLS_NAMES.U_HIDE),t.style.removeClass(e.container,CONSTANTS.STYLE_CLS_NAMES.U_HIDE)}}(PULSE.app.common,PULSE.core),function(e,t,a){var n="modal-fade",i="modal--expanded",o="modal--animated",r="js-modal",l="js-modal-expand",s="js-modal-close",c=function(){var e=this;e.keyEventCallback=d.bind(this),document.addEventListener("keyup",e.keyEventCallback)},d=function(e){var t=this;e.keyCode===CONSTANTS.KEY_CODES.ESCAPE&&t.closeModal()},u=function(){var e=this;e.screenPos=window.pageYOffset,a.style.addClass(e.pageBody,CONSTANTS.STYLE_CLS_NAMES.BODY_SHRINK_CLASS),a.style.addClass(document.body,n)},p=function(e){var t=this;e.preventDefault(),t.thumbElementOld=t.thumbElement,t.thumbElement=e.currentTarget,t.openModal()},m=function(e){var t=DOM_HELPER.htmlStringToDomElement(TEMPLATE_HELPER.render({},e.template));document.body.appendChild(t),e.wrap=t},f=function(){var e=this;document.removeEventListener("keyup",e.keyEventCallback),e.keyEventCallback=null},h=function(e){var t={closeCallback:e.closeCallback||"undefined",controls:e.controls||{},hideClass:e.hideClass||CONSTANTS.STYLE_CLS_NAMES.IS_HIDDEN,items:e.items||e.wrap.querySelector("."+l),openCallback:e.openCallback||"undefined",wrap:e.wrap||document.querySelector("."+r)};return t.controls.close=t.controls.close||e.wrap.querySelector("."+s),t},v=function(){var e=this;e.addThumbListeners(e.config.items),e.config.controls.close&&A11Y_HELPER.addListener(e.config.controls.close,function(t){t.keyCode!==CONSTANTS.KEY_CODES.ENTER&&"click"!==t.type||e.closeModal()})},E=function(){var e=this;a.style.removeClass(e.pageBody,CONSTANTS.STYLE_CLS_NAMES.BODY_NO_SCROLL_CLASS),a.style.removeClass(e.pageBody,CONSTANTS.STYLE_CLS_NAMES.BODY_SHRINK_CLASS),a.style.removeClass(document.body,n),window.scrollTo(0,e.screenPos)};t.Modal=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;e.template&&m.call(t,e),t.config=h(e),t.isViewportFullsize=!1,t.pageBody=document.querySelector("."+CONSTANTS.JS_CLS_NAMES.BODY_CONTENT),v.call(t)},t.Modal.prototype.addThumbListeners=function(e){var t=this;if(e)for(var a=0;a<e.length;a++)e[a].dataset.isInitialised||(e[a].dataset.isInitialised=!0,A11Y_HELPER.addListener(e[a],p.bind(t)))},t.Modal.prototype.closeModal=function(){var e=this;e.isViewportFullsize=!1,E.call(e),f.call(e),a.style.removeClass(e.config.wrap,i),setTimeout(function(){e.isViewportFullsize||a.style.removeClass(e.config.wrap,o)},CONSTANTS.TIME.MODAL_ANIMATION_DURATION),"function"==typeof e.config.closeCallback&&e.config.closeCallback()},t.Modal.prototype.openModal=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this;return e&&t.thumbElement===t.thumbElementOld&&a.style.hasClass(t.config.wrap,i)?void t.closeModal():(u.call(t),c.call(t),t.isViewportFullsize=!0,a.style.addClass(t.config.wrap,i),setTimeout(function(){t.isViewportFullsize&&(a.style.addClass(t.config.wrap,o),a.style.addClass(t.pageBody,CONSTANTS.STYLE_CLS_NAMES.BODY_NO_SCROLL_CLASS))},CONSTANTS.TIME.MODAL_ANIMATION_DURATION),void("function"==typeof t.config.openCallback&&t.config.openCallback()))}}(PULSE.app,PULSE.app.common,PULSE.core);var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};!function(app,common,core){var FEATURED_CLASS="article-modal--featured",MODAL_EXPANDED_CLASS="article-modal--expanded",MODAL_CONTENT_ACTIVE_CLASS="article-modal__content"+CONSTANTS.STYLE_CLS_MODIFIERS.ACTIVE,JS_MODAL_CLASS="js-article-modal",JS_MODAL_EXPAND_CLASS="js-article-expand",JS_MODAL_VIEWPORT_CLASS="js-article-modal-viewport",JS_MODAL_CONTENT_CLASS="js-article-modal-content",JS_MODAL_LOADER_CLASS="js-article-modal-loader",JS_ARTICLE_BODY_CLASS="js-article-body",JS_SIMPLE_EMBED_CLASS="js-simple-embed",PLAYBUZZ="playbuzz",SCROLL_OFFSET=0,SCROLL_RATE=100,_getArticle=function(e){var t=this,a=document.querySelector("."+PLAYBUZZ),n={callback:function(a){t.dataStore[e]=a,setTimeout(function(){return _updateViewport.call(t,a)},CONSTANTS.TIME.MODAL_ANIMATION_DURATION)},forceCallback:!0,target:t,url:app.apiPath.cms.text+e+"?showAllTitleTranslations=true"};t.dataRequestHistory.indexOf(e)===-1?(t.dataRequestHistory.push(e),t.dataRequests[e]=core.data.manager.add(n)):t.dataRequests[e]&&(_updateViewport.call(t,t.dataStore[e]),a&&Playbuzz&&Playbuzz.render())},_getArticleModel=function(e){var t='<script src="https://'+PULSE.app.environment.domain+"/resources/"+window.RESOURCE_VERSION+'/app/app-external.js">.*?</script>',a=new RegExp(t,"gmi"),n=(e.body||"").replace(a,"").replace(/<link[^>]*>/gim,""),i=TEMPLATE_HELPER.contentHasTag(e.tags,CONSTANTS.TAGS.TYPE.FEATURED.tag),o=TEMPLATE_HELPER.contentHasTag(e.tags,CONSTANTS.TAGS.TYPE.QUIZ.tag),r={author:e.author,body:n,duration:e.duration,heroPhoto:_getHeroPhotoVariants(e.leadMedia),id:e.id,isFeatured:i||o,isQuiz:o,language:app.language||app.defaultLanguage,lastModified:e.lastModified,leadMedia:e.leadMedia||null,metadata:e.metadata||{},publishFrom:e.publishFrom,references:e.references||[],summary:e.summary,tags:e.tags||[],title:e.title};return e.related&&e.related.length>0?r.relatedContent=e.related:r.relatedContent=null,r},_getHeroPhotoVariants=function(e){if(!e||"undefined"==typeof e)return null;var t=IMAGE_HELPER.getVariantsForContentType(e);return{featured:_getPhotoVariants(t,"Featured"),standard:_getPhotoVariants(t,"Standard")}},_getPhotoVariants=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(0===Object.keys(e).length)return e;var a={};return a.mobileUrl=IMAGE_HELPER.getPhotoByVariant(e,t+" Article Hero - Mobile"),a.mobileUrlRetina=IMAGE_HELPER.getPhotoByVariant(e,t+" Article Hero - Mobile (Retina)"),a.phabletUrl=IMAGE_HELPER.getPhotoByVariant(e,t+" Article Hero - Phablet"),a.phabletUrlRetina=IMAGE_HELPER.getPhotoByVariant(e,t+" Article Hero - Phablet (Retina)"),a.tabletUrl=IMAGE_HELPER.getPhotoByVariant(e,t+" Article Hero - Tablet"),a.tabletUrlRetina=IMAGE_HELPER.getPhotoByVariant(e,t+" Article Hero - Tablet (Retina)"),a.desktopSmallUrl=IMAGE_HELPER.getPhotoByVariant(e,t+" Article Hero - Desktop Small"),a.desktopSmallUrlRetina=IMAGE_HELPER.getPhotoByVariant(e,t+" Article Hero - Desktop Small (Retina)"),a.desktopUrl=IMAGE_HELPER.getPhotoByVariant(e,t+" Article Hero - Desktop"),a.desktopUrlRetina=IMAGE_HELPER.getPhotoByVariant(e,t+" Article Hero - Desktop (Retina)"),a.wideUrl=IMAGE_HELPER.getPhotoByVariant(e,t+" Article Hero - Wide"),a.wideUrlRetina=IMAGE_HELPER.getPhotoByVariant(e,t+" Article Hero - Wide (Retina)"),a},_initArticleWidgets=function _initArticleWidgets(){for(var _self=this,ShareText=PULSE.ui.shareText,relatedArticlesElems=_self.contentElem.querySelectorAll('[data-widget="related-articles"]'),i=0;i<relatedArticlesElems.length;i++)new app.RelatedArticles(relatedArticlesElems[i]);for(var relatedcontentElems=_self.wrap.querySelectorAll('[data-widget="content-list"]'),_i=0;_i<relatedcontentElems.length;_i++){var relatedContent=new app.ContentList(relatedcontentElems[_i],{hideIfNoResults:!0});relatedContent.getContentData(!0)}for(var shareWidgets=_self.wrap.querySelectorAll('[data-widget="social-page-share"]'),_i2=0;_i2<shareWidgets.length;_i2++)new common.PageShare(shareWidgets[_i2]);new ShareText({content:"."+JS_ARTICLE_BODY_CLASS,hideUrl:!1,shareOptions:"."+CONSTANTS.JS_CLS_NAMES.TEXT_SHARE_OPTIONS,shareChannels:"."+CONSTANTS.JS_CLS_NAMES.TEXT_SHARE_CHANNELS});for(var scriptTags=_self.wrap.querySelectorAll("."+JS_SIMPLE_EMBED_CLASS+" script, .embeddable-playbuzz script"),_i3=0;_i3<scriptTags.length;_i3++)eval(scriptTags[_i3].innerHTML);app.widgetDeps(_self.contentElem)},_updateViewport=function(e){var t=this;if(t.modal.isViewportFullsize&&e){var a=_getArticleModel(e);t.browserButtonUsed||_setUrl.call(t,!1,e.title,e.id,e.tags,e.language,e.titleTranslations),t.contentElem.innerHTML=TEMPLATE_HELPER.render(a,"_article_modal"),_twttr(document,"script","twitter-wjs"),_updateAnalytics.call(t,a),common.contentTracker(!1,CONSTANTS.CONTENT_TRACKER.ACTION.VIEW,CONSTANTS.CONTENT_TRACKER.TYPE.TEXT,e.id),core.style.addClass(t.loader,CONSTANTS.STYLE_CLS_NAMES.U_HIDE),core.style.addClass(t.contentElem,MODAL_CONTENT_ACTIVE_CLASS),t.article=new app.Article(t.viewport,{controls:t.modal.config.controls,isModal:!0}),[].forEach.call(t.contentElem.querySelectorAll("."+CONSTANTS.JS_CLS_NAMES.LAZY_PICTURE_ELEMENT),function(e){new common.LazyPictureElement(e)});var n=t.contentElem.querySelector('[data-widget="forca-barca"]');new common.ForcaBarca(n),t.browserButtonUsed=!1,t.articleId=null,_initArticleWidgets.call(t)}},_updateAnalytics=function(e){var t=this,a=t.contentElem.querySelectorAll('[data-analytics="true"]'),n=void 0;a.length>0&&"undefined"!=typeof ANALYTICS_HELPER&&ANALYTICS_HELPER.addEventListeners(a);try{n={author:e.author,duration:e.duration,isFeatured:e.isFeatured,language:e.language,lastModified:e.lastModified,publishFrom:e.publishFrom,references:e.references,tags:e.tags,isNews:e.isNewsContent,pageName:URL_HELPER.generateUrl("text",e.id,e.isFeatured?"featured":"",e.title,"https",e.tags)}}catch(i){console.warn(i),n={}}"undefined"!=typeof ANALYTICS_HELPER&&"undefined"!=typeof _satellite&&_satellite.track&&(fcbDL=ANALYTICS_HELPER.generateNewsDataLayer(n,!0),_satellite.track("scVPage"))},_onModalClose=function(){var e=this;core.style.removeClass(e.wrap,MODAL_EXPANDED_CLASS),core.style.removeClass(e.contentElem,MODAL_CONTENT_ACTIVE_CLASS),e.browserButtonUsed||_setUrl.call(e,!0),e.browserButtonUsed=!1,e.article&&e.article.removeScrollObserver.call(e)},_onModalOpen=function(){var e=this;core.style.removeClass(e.loader,CONSTANTS.STYLE_CLS_NAMES.U_HIDE),_getArticle.call(e,e.articleId||e.modal.thumbElement.dataset.articleId),DOM_HELPER.scrollBaseElemToElem(e.viewport,e.contentElem,SCROLL_OFFSET,SCROLL_RATE),core.style.addClass(e.wrap,MODAL_EXPANDED_CLASS),e.isFeatured="undefined"!=typeof e.modal.thumbElement.dataset.isFeatured,e.isFeatured?core.style.addClass(e.wrap,FEATURED_CLASS):core.style.removeClass(e.wrap,FEATURED_CLASS)},_onPopState=function(e){var t=this;t.browserButtonUsed=!0,e.state&&(e.state.article.modal?e.state.article.modal&&(t.articleId=e.state.article.id,t.modal.openModal(!1)):t.modal.closeModal())},_setUrl=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments[4],o=arguments[5],r=this,l=void 0;if(e)l=r.prevUrl;else{var s=o&&o.en?o.en:"";l=TEMPLATE_HELPER.contentHasTag(n,CONSTANTS.TAGS.TYPE.NEWS.tag)?URL_HELPER.generateUrl("text",a,r.isFeatured?"featured":"","ja"===i?s:t,"https",n):URL_HELPER.generateUrl("static",a,"","ja"===i?s:t,"https",n)}history.pushState(_extends({},history.state,{article:{id:a,modal:!e,title:t}}),t,l)},_twttr=function(e,t,a){var n,i=e.getElementsByTagName(t)[0],o={};return n=e.createElement(t),n.id=a,n.src="https://platform.twitter.com/widgets.js",i.parentNode.insertBefore(n,i),o._e=[],o.ready=function(e){o._e.push(e)},o},ArticleModal=function(){var e=this;e.dataRequestHistory=[],e.dataRequests={},e.dataStore={},e.prevUrl=window.location.href,e.onPopState=_onPopState.bind(e),e.wrap=document.querySelector("."+JS_MODAL_CLASS),e.wrap&&(e.articleThumbs=document.querySelectorAll("."+JS_MODAL_EXPAND_CLASS),e.loader=e.wrap.querySelector("."+JS_MODAL_LOADER_CLASS),e.viewport=e.wrap.querySelector("."+JS_MODAL_VIEWPORT_CLASS),e.contentElem=e.wrap.querySelector("."+JS_MODAL_CONTENT_CLASS),e.modal=new common.Modal({closeCallback:_onModalClose.bind(e),items:e.articleThumbs,openCallback:_onModalOpen.bind(e),wrap:e.wrap}),window.addEventListener("popstate",e.onPopState))};common.articleModal=new ArticleModal}(PULSE.app,PULSE.app.common,PULSE.core),function(e,t,a){var n="content-popup--open",i="js-content-popup-trigger",o="js-popup-close-btn",r="js-popup-container",l="js-popup-photo",s="js-popup-title",c="js-popup-content",d="js-body-content",u="js-article-popup",p="content-popup--loading",m=function(e){var t=IMAGE_HELPER.getVariantsForContentType(e),a={};return a.mobileUrl=IMAGE_HELPER.getPhotoByVariant(t,"Gallery Thumbnail - Desktop"),a.mobileUrlRetina=IMAGE_HELPER.getPhotoByVariant(t,"Gallery Thumbnail - Desktop (Retina)"),a.phabletUrl=IMAGE_HELPER.getPhotoByVariant(t,"Featured Article Hero - Phablet"),a.phabletUrlRetina=IMAGE_HELPER.getPhotoByVariant(t,"Featured Article Hero - Phablet (Retina)"),a.desktopUrl=IMAGE_HELPER.getPhotoByVariant(t,"Featured Article Hero - Tablet"),a.desktopUrlRetina=IMAGE_HELPER.getPhotoByVariant(t,"Featured Article Hero - Tablet (Retina)"),a},f=function(e){var t=this;e.keyCode===CONSTANTS.KEY_CODES.ESCAPE&&(t.close(),t.noUrl||S.call(t,{},!0))},h=function(t){var n=this;n.popupTitle.innerText=t.title,n.popupContent.innerHTML=t.body;var i=n.popupContent.querySelector("link"),o=n.popupContent.querySelectorAll("script");if(i&&n.popupContent.removeChild(i),o.length>0&&n.popupContent.removeChild(o[o.length-1]),a.style.removeClass(n.popupElement,p),t.leadMedia&&n.popupPhotoElem){var r=m(t.leadMedia),l=TEMPLATE_HELPER.render(r,"content-popup-image");n.popupPhotoElem.innerHTML=l}t.afterDOMUpdate(n.popupContent),[].forEach.call(n.popupContent.querySelectorAll("."+CONSTANTS.JS_CLS_NAMES.LAZY_PICTURE_ELEMENT),function(t){new e.LazyPictureElement(t)}),n.noUrl||S.call(n,t)},v=function(e){t.widgetDeps(e),new t.Article(e,{controls:{},isModal:!0})},E={text:function(e){return{title:e.data.title,body:e.data.body,leadMedia:e.data.leadMedia,id:e.data.id,afterDOMUpdate:function(e){return v(e)}}},bio:function(e){return{title:e.data.title,body:e.data.content,leadMedia:!1,id:e.data.id,afterDOMUpdate:function(e){return v(e)}}}},g=function(){var e=this;A11Y_HELPER.addListener(e.popupCoseBtn,function(t){t.preventDefault(),e.close(),e.noUrl||S.call(e,{},!0)});var t=document.querySelectorAll("."+i);if(t.length)for(var a=function(a){var n=t[a];A11Y_HELPER.addListener(n,function(t){t.preventDefault(),t.stopPropagation(),e.open();var a=n.getAttribute("data-popup-load"),i=n.getAttribute("data-popup-content-type");a&&e.loadContent(a,i||"text")})},n=0;n<t.length;n++)a(n)},S=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=void 0,n=void 0;t?(a=this.originalUrl,n=document.title):(a=window.location.href+"/"+e.id+"/"+URL_HELPER.urlifyTitle(e.title),n=e.title),history.pushState(history.state,n,a)};e.ContentPopup=function(e){var t=this;t.pageBody=document.querySelector("."+CONSTANTS.JS_CLS_NAMES.BODY_CONTENT),t.popupElement=e,t.originalUrl=window.location.href,t.popupElement&&(t.definePopup(),g.call(t))},e.ContentPopup.prototype.definePopup=function(){var e=this;e.popupCoseBtn=e.popupElement.querySelector("."+o),e.popupContainer=e.popupElement.querySelector("."+r),e.popupPhotoElem=e.popupElement.querySelector("."+l),e.popupTitle=e.popupElement.querySelector("."+s),e.popupContent=e.popupElement.querySelector("."+c),e.popupArticle=e.popupElement.querySelector("."+u),e.bodyContent=e.popupElement.querySelector("."+d)},e.ContentPopup.prototype.addMore=function(e,t){var a=this;a.noUrl=!!t&&t;for(var n=function(t){var n=e[t];A11Y_HELPER.addListener(n,function(e){e.preventDefault(),e.stopPropagation(),a.open();var t=n.getAttribute("data-popup-load"),i=n.getAttribute("data-popup-content-type");t&&a.loadContent(t,i||"text")})},i=0;i<e.length;i++)n(i)},e.ContentPopup.prototype.isOpen=function(){var e=this;return e.popupElement||(e.popupElement=document.querySelector(".js-page-pop-up"),e.definePopup()),a.style.hasClass(e.popupElement,n)},e.ContentPopup.prototype.open=function(){var e=this;e.isOpen()||(e.scrollPos=document.documentElement.scrollTop,e.keyEventCallback=f.bind(this),document.addEventListener("keyup",e.keyEventCallback),a.style.addClass(document.body,CONSTANTS.STYLE_CLS_NAMES.NO_OVERFLOW_CLASS),a.style.addClass(document.body,CONSTANTS.STYLE_CLS_NAMES.CONTENT_OVERLAY_CLASS),a.style.addClass(e.popupElement,n))},e.ContentPopup.prototype.close=function(){var e=this;e.isOpen()&&(a.style.removeClass(document.body,CONSTANTS.STYLE_CLS_NAMES.NO_OVERFLOW_CLASS),a.style.removeClass(document.body,CONSTANTS.STYLE_CLS_NAMES.CONTENT_OVERLAY_CLASS),a.style.removeClass(e.popupElement,n),document.documentElement.scrollTop=e.scrollPos,document.removeEventListener("keyup",e.keyEventCallback),e.keyEventCallback=null,e.popupTitle&&e.popupContent&&(e.popupPhotoElem.innerHTML="",e.popupTitle.innerText="",e.popupContent.innerHTML=""))},e.ContentPopup.prototype.loadContent=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text",i=this;a.style.addClass(i.popupElement,p);var o=t.apiPath.cms[n]+e;axios.get(o).then(function(e){h.call(i,E[n](e))})};var _=document.querySelector('[data-widget="content-pop-up"]');_&&new e.ContentPopup(_)}(PULSE.app.common,PULSE.app,PULSE.core);var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};!function(e,t,a){var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:PULSE.I18N.lookup(e.defaultMoreText),a=document.createElement(e.moreLabelNodeType);a.className=e.moreLabelCls;var n=document.createElement("span");return n.className=e.moreLabelTextJsCls,n.innerText=t,a.appendChild(n),e.moreLabelSVG&&a.appendChild(DOM_HELPER.createSVG({cssClass:"icon",name:e.moreLabelSVG,sprite:"icn"})),a},i=function(){var e=this;A11Y_HELPER.toggleZIndex(e.flexNavContainer),A11Y_HELPER.toggleAriaMenuAttributes(e.flexNavContainer),t.style.toggleClass(e.flexNavContainer,e.config.flexNavOpenCls)};a.FlexNav=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:PRESET_CONFIG.MORE_NAV,n=this;SCREEN_HELPER.isMobileView()||(n.config=Object.freeze(_extends({},PRESET_CONFIG.MORE_NAV,a)),n.initialised=!1,n.listElements=Object.freeze(CLONE_HELPER.cloneArray(n.config.container.children)),n.hiddenItems=0,n.moreNavBuilt=!1,n.hasMoreNav=!1,n.handleOverflow(),SCREEN_HELPER.onDebouncedResize(n.handleOverflow.bind(n)),SCREEN_HELPER.onDebouncedOrientation(n.handleOverflow.bind(n)),t.style.removeClass(n.config.container,"u-overflow-hidden"))},a.FlexNav.prototype.checkOverflow=function(){for(var e=this,t=e.config.container.clientWidth,a=e.listElements.length-e.hiddenItems,n=0,i=0;i<a;i++)n+=e.listElements[i].clientWidth;return e.hasMoreNav&&(n+=e.flexNavContainer.clientWidth),e.config.additionalMenuItem&&(n+=e.config.additionalMenuItem.clientWidth),n>t},a.FlexNav.prototype.createMoreDropdown=function(){var e=this,t=document.createElement(e.config.containerNodeType);t.className=e.config.containerCls,t.setAttribute("tabindex",e.config.tabindex);var a=document.createElement(e.config.flexNavNodeType);a.className=e.config.flexNavCls,e.config.container.insertBefore(t,null),t.appendChild(n(e.config)),t.appendChild(a),e.flexNavContainer=t,e.flexNav=a,e.moreNavBuilt=!0,e.hasMoreNav=!0,e.config.clickEvent&&A11Y_HELPER.addListener(e.flexNavContainer,i.bind(e)),A11Y_HELPER.resetAriaMenuAttributes(e.flexNavContainer)},a.FlexNav.prototype.getPotentialWidth=function(e){var a=this;a.hasMoreNav&&1===a.hiddenItems&&t.style.addClass(a.flexNavContainer,CONSTANTS.STYLE_CLS_NAMES.U_HIDE);var n=e.cloneNode(!0);t.style.removeClass(n,a.config.hideCls),t.style.addClass(a.config.container,"u-overflow-hidden"),a.config.container.appendChild(n);for(var i=a.listElements.length-a.hiddenItems,o=0,r=0;r<i;r++)o+=a.listElements[r].clientWidth;return o+=n.clientWidth,a.hasMoreNav&&(o+=a.flexNavContainer.clientWidth),a.config.additionalMenuItem&&(o+=a.config.additionalMenuItem.clientWidth),a.config.container.removeChild(n),t.style.removeClass(a.config.container,"u-overflow-hidden"),a.hasMoreNav&&1===a.hiddenItems&&t.style.removeClass(a.flexNavContainer,CONSTANTS.STYLE_CLS_NAMES.U_HIDE),o},a.FlexNav.prototype.handleOverflow=function(){var e=this;e.checkOverflow()?(e.moreNavBuilt||e.createMoreDropdown(),e.checkPushToMore()):0!==e.hiddenItems&&e.removeFromMore(),e.cleanUpMoreNavItems()},a.FlexNav.prototype.cleanUpMoreNavItems=function(){var e=this;if(e.flexNav)for(var a=e.flexNav.querySelectorAll("[data-flex-nav-item]"),n=0;n<a.length;n++)for(var i=0;i<e.listElements.length;i++){var o=e.listElements[i].getAttribute("data-item")===a[n].getAttribute("data-item");o&&!t.style.hasClass(e.listElements[i],"u-hide")&&e.flexNav.removeChild(a[n])}},a.FlexNav.prototype.checkPushToMore=function(){var e=this;if(e.checkOverflow()){var t=e.listElements.length-e.hiddenItems-1;e.pushToMore(t)}},a.FlexNav.prototype.pushToMore=function(e){var a=this,n=a.listElements[e],i=n.cloneNode(!0);i.setAttribute("data-flex-nav-item",e),A11Y_HELPER.toggleZIndex(i),a.flexNav.insertBefore(i,a.flexNav.children[0]),t.style.addClass(n,a.config.hideCls),a.hiddenItems++,a.moreNavBuilt&&!a.hasMoreNav&&(t.style.removeClass(a.flexNavContainer,CONSTANTS.STYLE_CLS_NAMES.U_HIDE),a.hasMoreNav=!0),a.checkPushToMore()},a.FlexNav.prototype.removeFromMore=function(){for(var e=this,a=e.config.container.clientWidth,n=e.hiddenItems,i=0;i<n;i++){var o=e.listElements[e.listElements.length-e.hiddenItems],r=e.getPotentialWidth(o);if(r<=a){var l=parseInt(o.getAttribute("data-item")),s=e.flexNav.querySelector('[data-flex-nav-item="'+l+'"]');s&&e.flexNav.removeChild(s),t.style.removeClass(o,CONSTANTS.STYLE_CLS_NAMES.HIDE),e.hiddenItems--}}0===e.hiddenItems&&(t.style.addClass(e.flexNavContainer,CONSTANTS.STYLE_CLS_NAMES.U_HIDE),e.hasMoreNav=!1)}}(PULSE.app,PULSE.core,PULSE.app.common);var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};!function(e,t){var a=!1,n=!1,i="main-mobile-navigation",o=function(e){var a=this;a.navContainers=DOM_HELPER.nodeListToArray(a.container.querySelectorAll("."+a.config.navSelector)),a.navContainers.forEach(function(e){t.style.removeClass(e,a.config.activeClass)});for(var n=0;n<a.navContainers.length;n++){var i=a.navContainers[n],o=i.getAttribute(a.config.navIdAttribute);o&&o.includes(e)&&l.call(a,i,o)}},r=function(e){for(var t=this,a=0;a<t.navActivators.length;a++){var n=t.navActivators[a],i=n.getAttribute(t.config.activationElementIdAttribute);if(i.includes(e))return n}return null},l=function(e,a){var n=this;e&&(n.currentlyActive=e,t.style.addClass(n.currentlyActive,n.config.activeClass),n.config.didUpdateActive&&"function"==typeof n.config.didUpdateActive&&n.config.didUpdateActive(a))},s=function(e){var t=this,a=e.length>0?e[0]:{};if(1===a.intersectionRatio){var n=a.target.getAttribute(t.config.activationElementIdAttribute);o.call(t,n)}},c=function(e){var a=this,n=e.getAttribute(a.config.navIdAttribute);if(n){var i=n.split("#")[1],l=r.call(a,i);if(!l)return void(window.location.href=n);o.call(a,i);var s=0;if(SCREEN_HELPER.isMobileView())s=a.config.marginBottom+e.parentElement.clientHeight+a.mobileNav.clientHeight;else{var c=a.secondaryNav.clientHeight;c+=t.style.hasClass(document.body,CONSTANTS.STYLE_CLS_NAMES.U_NAV_DOCKED_MIDWAY)?a.primaryNav.clientHeight:0,s=a.config.marginBottom+c+a.navContainer.clientHeight}var d=document.scrollingElement?document.scrollingElement.scrollTop:document.documentElement.scrollTop;window.scrollTo(0,d+l.getBoundingClientRect().top-s)}},d=function(){var e=this;e.navContainers=DOM_HELPER.nodeListToArray(e.container.querySelectorAll("."+e.config.navSelector)),e.navActivators=DOM_HELPER.nodeListToArray(document.body.querySelectorAll("."+e.config.activationElementSelector)),e.navActivators.forEach(function(t){e.observer.observe(t)}),e.navContainer&&(e.a11yListeners.push(A11Y_HELPER.addListener(e.navContainer,function(t){t.preventDefault(),t.target.matches("."+e.config.navSelector)?c.call(e,t.target):t.target.parentElement.matches("."+e.config.navSelector)&&c.call(e,t.target.parentElement)},a,n)),e.navDropdownContainer&&e.a11yListeners.push(A11Y_HELPER.addListener(e.navDropdownContainer,function(t){t.preventDefault(),t.target.matches("."+e.config.navSelector)?c.call(e,t.target):t.target.parentElement.matches("."+e.config.navSelector)&&c.call(e,t.target.parentElement)},a,n)))},u=function(){var e=this;e.navActivators.forEach(function(t){e.observer.unobserve(t)}),e.navContainers.forEach(function(t,a){A11Y_HELPER.removeListener(t,e.a11yListeners[a],n)}),e.a11yListeners=[]};e.IntersectionNav=function(e,t){var a=this;a.config=_extends({},PRESET_CONFIG.INTERSECTION_NAV,t),a.primaryNav=document.querySelector("."+CONSTANTS.JS_CLS_NAMES.NAV_CORE),a.secondaryNav=document.querySelector("."+CONSTANTS.JS_CLS_NAMES.SECONDARY_NAV),a.mobileNav=document.querySelector("."+i),a.container=e,a.navContainer=a.container.querySelector("."+a.config.navContainerSelector),a.navDropdownContainer=a.container.querySelector("."+a.config.navDropdownSelector),a.a11yListeners=[],a.observer=new IntersectionObserver(s.bind(a),a.config.observer),d.call(a),a.currentlyActive=a.navContainers[0]},e.IntersectionNav.prototype.update=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;u.call(t),t.navContainer.innerHTML=TEMPLATE_HELPER.render(e,t.config.itemsTemplate),d.call(t)}}(PULSE.app.common,PULSE.core);var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};!function(e,t){var a={container:null,containerSelector:".js-tab-container",linkAttr:"data-href",tabActivatorSelector:".js-main-nav-item",onTabClicked:!1,tabActiveClass:"search-page__tab--show",currentContainer:".js-dropdown-current",tabNameAttr:"data-tab-name",callback:!1,updateUrl:!0,getActivatorActiveClass:function(e){return t.style.hasClass(e,"section-navigation__text-container")?"section-navigation__text-container--active":t.style.hasClass(e,"section-navigation-dropdown__option-link")?"section-navigation-dropdown__option-link--active":"is-active"}},n=function(e,t){var a=e.container.querySelector(e.currentContainer);a&&(a.innerHTML=t)},i=function(e,t,a){var n=Object.keys(t),i=window.location.hash;
return!!n.includes(i)&&(r(i,e,t,a),!0)},o=function(e,a,n){a.forEach(function(e){t.style.removeClass(e,n.getActivatorActiveClass(e))});for(var i in e)if(e.hasOwnProperty(i)){var o=e[i];t.style.removeClass(o,n.tabActiveClass)}},r=function(e,a,i,r){o(i,r,a);for(var l in i)i.hasOwnProperty(l)&&i[l].getAttribute(a.linkAttr)===e&&(t.style.addClass(i[l],a.tabActiveClass),a.callback&&a.callback(l));r.forEach(function(i){i.getAttribute(a.linkAttr)===e&&(t.style.addClass(i,a.getActivatorActiveClass(i)),n(a,i.getAttribute(a.tabNameAttr)||i.innerText))})},l=function(e,a,i,r,l){var s=e.getAttribute(r.linkAttr),c=i[s];c&&(o(i,l,r),t.style.addClass(c,r.tabActiveClass),l.forEach(function(e){e.getAttribute(r.linkAttr)===s&&t.style.addClass(e,r.getActivatorActiveClass(e))}),r.updateUrl&&(window.location.hash=s),n(r,e.getAttribute(r.tabNameAttr)||e.innerText),a&&a(s))},s=function(e){var t=DOM_HELPER.nodeListToArray(e.container.querySelectorAll(e.containerSelector)),a=DOM_HELPER.nodeListToArray(e.container.querySelectorAll(e.tabActivatorSelector)),o=t.reduce(function(t,a){return t[a.getAttribute(e.linkAttr)]=a,t},{});a.forEach(function(t){A11Y_HELPER.addListener(t,function(n){n.preventDefault(),l(t,e.callback,o,e,a)})});var s=i(e,o,a);if(!s){var c=a[0].getAttribute(e.linkAttr);r(c,e,o,a),n(e,a[0].getAttribute(e.tabNameAttr)||a[0].innerText)}return o};e.SimpleTabs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;t.config=_extends({},a,e),t.tabs=s(t.config)}}(PULSE.app.common,PULSE.core),function(e,t,a){var n=function(){for(var e=this,n=function(n){e.elements[n].addEventListener(CONSTANTS.EVENT.ACTIVATE,function(){var t=e.elements[n].getAttribute("data-observe");a.style.addClass(e.elements[n],""+t+CONSTANTS.STYLE_CLS_MODIFIERS.ACTIVE)}),t.GlobalIntersectionObserver.observe(e.elements[n])},i=0;i<e.elements.length;i++)n(i)};e.ObserveElements=function(e){var t=this;t.elements=e,n.call(t)};var i=document.querySelectorAll("[data-observe]");e.elementObserver=new e.ObserveElements(i)}(PULSE.app,PULSE.app.common,PULSE.core,CONSTANTS);var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},_createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();!function(e,t,a){var n=function(){function e(){_classCallCheck(this,e),this.rankedItems=null}return _createClass(e,[{key:"trackEvent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments[1];return"1"===t.localStorage.getStorage("fcb-accept-essential",!0)&&(e.eventType?e.userId?e.itemId?(null===window.sessionStorage.getItem("sessionId")&&window.sessionStorage.setItem("sessionId",UUID_HELPER.createUUID()),void axios.post(URL_HELPER.getEventTrackingUrl(),_extends({},e,{sessionId:window.sessionStorage.getItem("sessionId")})).then(function(e){"function"==typeof a&&a(e)})):(console.warn("event tracker requires param itemId"),!1):(console.warn("event tracker requires param userId"),!1):(console.warn("event tracker requires param eventType"),!1))}},{key:"storeRankedItems",value:function(e){Array.isArray(e)||console.warn("items should be an array"),this.rankedItems=e}}]),e}();a.personalisation=new n}(PULSE.app,PULSE.core,PULSE.app.common),function(e){e.PlayerPhoto=function(a){var n=this;n.element=a,n.playerId=n.element.getAttribute("data-player"),n.imageSize=n.element.getAttribute("data-size")||"111x160",e.GlobalIntersectionObserver.observe(n.element),n.element.addEventListener(CONSTANTS.EVENT.ACTIVATE,t.bind(n))};var t=function(){var e=this,t=URL_HELPER.getPlayerPhoto(e.playerId,e.imageSize),a=new Image;a.onload=function(){e.element.style.backgroundImage="url("+t+")"},a.setAttribute("src",t)};e.initPlayerPhotos=function(t){if(t)for(var a=t.querySelectorAll('[data-widget="player-image"]'),n=0;n<a.length;n++)new e.PlayerPhoto(a[n])},e.initPlayerPhotos(document)}(PULSE.app.common),function(e){e.Promo=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=this;return i.promo=e,i.isVip=t,i.cssClass=n,DOM_HELPER.htmlStringToDomElement(a.call(i))};var t=function(e){var t={};return t.mobileUrl=IMAGE_HELPER.getPhotoByVariant(e.variants,"Featured Article Hero - Mobile"),t.mobileUrlRetina=IMAGE_HELPER.getPhotoByVariant(e.variants,"Featured Article Hero - Mobile (Retina)"),t.phabletUrl=IMAGE_HELPER.getPhotoByVariant(e.variants,"Featured Article Hero - Phablet"),t.phabletUrlRetina=IMAGE_HELPER.getPhotoByVariant(e.variants,"Featured Article Hero - Phablet (Retina)"),t.tabletUrl=IMAGE_HELPER.getPhotoByVariant(e.variants,"Featured Article Hero - Tablet"),t.tabletUrlRetina=IMAGE_HELPER.getPhotoByVariant(e.variants,"Featured Article Hero - Tablet (Retina)"),t.desktopSmallUrl=IMAGE_HELPER.getPhotoByVariant(e.variants,"Featured Article Hero - Desktop Small"),t.desktopSmallUrlRetina=IMAGE_HELPER.getPhotoByVariant(e.variants,"Featured Article Hero - Desktop Small (Retina)"),t.desktopUrl=IMAGE_HELPER.getPhotoByVariant(e.variants,"Featured Article Hero - Desktop"),t.desktopUrlRetina=IMAGE_HELPER.getPhotoByVariant(e.variants,"Featured Article Hero - Desktop (Retina)"),t.wideUrl=IMAGE_HELPER.getPhotoByVariant(e.variants,"Featured Article Hero - Wide"),t.wideUrlRetina=IMAGE_HELPER.getPhotoByVariant(e.variants,"Featured Article Hero - Wide (Retina)"),t},a=function(){var e=this,a=e.promo,n=a.metadata,i=n["tracking-action"],o=n["tracking-category"],r=n["tracking-label"],l=n&&i&&o&&r?'data-analytics="true" data-analytics-type="'+i+'" data-analytics-section="'+o+'" data-analytics-event="'+r+'"':"",s=a.tags.length?TEMPLATE_HELPER.getSponsorTag(a.tags):"",c={promo:a,tracking:l,sponsor:s,isVip:e.isVip,cssClass:e.cssClass,variants:t(a.promoItem)};return TEMPLATE_HELPER.render(c,"featured-promo")}}(PULSE.app.common),function(e,t,a){function n(){var e=-2,t=5,a=-13,n=26,i=e+Math.random()*t,o=a+Math.random()*n;this.x=L.canvasWidth/2,this.y=L.canvasHeight/2,this.velocityX=i,this.velocityY=o}function i(){var e=-2,t=5,a=-3,n=6,i=e+Math.random()*t,o=a+Math.random()*n,r=2,l=3,s=r+Math.random()*l;this.x=L.canvasWidth/2,this.y=L.canvasHeight/2,this.radius=s,this.velocityX=i,this.velocityY=o}function o(e){for(var t=Math.floor(Math.random()*L.maxCircles),a=0;a<t;a++)e.push(new i(L.canvasWidth,L.canvasHeight))}function r(e){for(var t=L.minimumBolts+Math.floor(Math.random()*L.additionalBolts),a=0;a<t;a++)e.push(new n(L.canvasWidth,L.canvasHeight))}function l(){var e=this;if(e.confettiCtx.clearRect(0,0,e.confettiCanvas.width,e.confettiCanvas.height),!(e.confettiOpacity>0))return e.confettiObjects=[],e.confettiOpacity=0,void w(e.animID);for(var t=0;t<e.confettiObjects.length;t++)e.confettiObjects[t].draw(e.confettiCtx),e.confettiObjects[t].update();e.confettiOpacity-=.02,e.confettiCanvas.style.opacity=e.confettiOpacity,e.animID=T(l.bind(e))}var s,c="js-forca-barca",d="js-forca-barca-counter",u="js-forca-barca-button",p="js-forca-clap-counter",m="js-forca-max-clap-total",f="força-barça--visible",h="força-barça__icon--disabled",v="max-claps-made",E="has-clapped",g=1500,S={TYPE:"data-reaction-type",PARENT_ID:"data-reaction-parent-id",MAIN_ID:"data-reaction-id",READY_CLASS:"data-ready-class",ANALYTICS_LABEL:"data-analytics-label"},_={BLOG_POST:"BLOG_POST",VIDEO:"VIDEO",MATCH_EVENT:"MATCH_EVENT",TEXT:"TEXT",PLAYLIST:"PLAYLIST"},b=(s={},_defineProperty(s,_.BLOG_POST,function(e,t){return"blog/"+t+"/post/"+e}),_defineProperty(s,_.VIDEO,function(e){return"video/"+e}),_defineProperty(s,_.MATCH_EVENT,function(e,t){return"match/"+t+"/event/"+e}),_defineProperty(s,_.TEXT,function(e){return"text/"+e}),_defineProperty(s,_.PLAYLIST,function(e){return"playlist/"+e}),s),y=1,C=10,L={canvasWidth:200,canvasHeight:200,gravity:.05,opacity:1,maxCircles:6,minimumBolts:2,additionalBolts:3,primaryBrandRed:"#cd122d",primaryBrandBlue:"#154284",primaryBrandYellow:"#fdc52c"},T=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,w=window.cancelAnimationFrame||window.mozCancelAnimationFrame,A=function(e,t){if(e.data.content&&e.data.content.length>0){var a=parseInt(e.data.content[0].count);return a>=t?a:t}return t},P=function(e,t){var n=this;return axios.get(a.environment.reactions+"/"+b[e.type](e.id,e.parentId)+URL_HELPER.prepareParams({action:"clap",limit:y})).then(function(e){return n.displayCount=A(e,t),n.displayCount})},N=function(e,a,n,i){return a.innerText=e.toLocaleString("en"),t.style.addClass(n,i),e},R=function(e,t){return t.innerText=e.toLocaleString("en"),e},O=function(e,t,a){var n=this;P.call(n,e,n.displayCount).then(function(e){N(e,t,a,n.readyClass)})},U=function(){var e=this;e.forcaClapCounter.style.animationPlayState="running",e.isClapping=!1},I=function(e){var n=this,i=null;n.clapsMade<n.maxClaps&&(n.clapsMade++,n.animID&&w(n.animID),n.confettiOpacity=1,o(n.confettiObjects),r(n.confettiObjects),l.call(n),n.hasClapped||(n.hasClapped=!0,t.style.addClass(n.forca,E),n.forcaClapCounter.addEventListener("animationend",x.bind(n))),n.isClapping?(n.forcaClapCounter.style.animationPlayState="paused",clearTimeout(i),i=setTimeout(U.bind(n),g)):(n.isClapping=!0,i=setTimeout(U.bind(n),g)),R(n.clapsMade,n.forcaClapCounter),n.clapsMade===n.maxClaps&&(t.style.addClass(n.forca,v),t.style.removeClass(n.forca,E),t.style.addClass(n.forcaButton,h),R(n.maxClaps,n.forcaMaxClapTotal),n.confettiCtx.fillStyle=L.primaryBrandYellow),axios.post(a.environment.reactions,{itemId:b[e.type](e.id,e.parentId),reactionType:"clap"}).then(function(e){n.axiospostcount++,n.displayCount=A(e,n.displayCount),N(n.displayCount,n.counterElem,n.container,n.readyClass),n.analyticsLabel&&(_satellite.setVar({catFCB:"forca-barca",actFCB:"like",labelFCB:n.analyticsLabel}),_satellite.track("scEvent"))}))},x=function H(){var e=this;e.hasClapped=!1,e.isClapping=!1,t.style.removeClass(e.forca,E),e.forcaClapCounter.removeEventListener("animationend",H)};e.ForcaBarca=function(a,n){var i=this;i.container=a,i.counterElem=i.container.querySelector("."+d),i.forca=i.container.querySelector("."+c),i.forcaButton=i.container.querySelector("."+u),i.forcaClapCounter=i.container.querySelector("."+p),i.forcaMaxClapTotal=i.container.querySelector("."+m),e.GlobalIntersectionObserver.observe(i.container),i.container.addEventListener(CONSTANTS.EVENT.ACTIVATE,function(){A11Y_HELPER.addListener(i.forcaButton,function(){i.forcaButton.blur(),i.displayCount++,i.counterElem.innerText=i.displayCount.toLocaleString("en"),I.call(i,i.params)},!1),O.call(i,i.params,i.counterElem,a),i.initConfettiCanvas(i)}),i.readyClass=i.container.getAttribute(S.READY_CLASS)||f,i.hasClapped=!1,i.displayCount=0,i.maxClaps=n||C,i.clapsMade=0,i.isCounting=!1,i.params={type:i.container.getAttribute(S.TYPE),id:i.container.getAttribute(S.MAIN_ID),parentId:i.container.getAttribute(S.PARENT_ID)},i.analyticsLabel=i.container.getAttribute(S.ANALYTICS_LABEL),t.style.removeClass(i.forcaButton,h),i.axiospostcount=0},e.ForcaBarca.prototype.initConfettiCanvas=function(){var e=this;e.confettiObjects=[],e.confettiCanvas=document.createElement("canvas"),e.confettiCanvas.classList.add("confetti-canvas","js-confetti-canvas"),e.forcaButton.prepend(e.confettiCanvas),e.confettiCtx=e.confettiCanvas.getContext("2d"),e.confettiCanvas.width=L.canvasWidth,e.confettiCanvas.height=L.canvasHeight,e.confettiCtx.clearRect(0,0,e.confettiCanvas.width,e.confettiCanvas.height),e.confettiGrad=e.confettiCtx.createLinearGradient(0,0,L.canvasWidth,L.canvasHeight),e.confettiGrad.addColorStop(0,L.primaryBrandRed),e.confettiGrad.addColorStop(1,L.primaryBrandBlue),e.confettiCtx.fillStyle=e.confettiGrad,e.confettiOpacity=L.opacity},n.prototype.draw=function(e){e.save(),e.miterLimit=4,e.scale(.15,.15),e.translate(9*this.x,this.y+150),e.beginPath(),e.moveTo(-103,408),e.bezierCurveTo(-107,411,-112,413,-117,410),e.lineTo(-171,387),e.lineTo(-174,409),e.bezierCurveTo(-175,417,-178,416,-181,418),e.bezierCurveTo(-184,420,-189,420,-192,418),e.lineTo(-261,388),e.bezierCurveTo(-267,386,-270,378,-267,372),e.bezierCurveTo(-264,366,-257,363,-251,366),e.lineTo(-197,389),e.lineTo(-193,367),e.bezierCurveTo(-193,363,-190,360,-187,358),e.bezierCurveTo(-184,356,-180,356,-176,358),e.lineTo(-107,388),e.bezierCurveTo(-101,390,-98,398,-101,404),e.bezierCurveTo(-101,405,-102,407,-103,409),e.closePath(),e.fill(),e.translate(9*-this.x,-this.y+150),e.restore()},n.prototype.update=function(){var e=3;this.velocityY+=L.gravity*e,this.x+=this.velocityX,this.y+=this.velocityY},i.prototype.draw=function(e){e.beginPath(),e.arc(this.x,this.y,this.radius,0,2*Math.PI),e.closePath(),e.fill()},i.prototype.update=function(){this.velocityY+=L.gravity,this.x+=this.velocityX,this.y+=this.velocityY};for(var k=document.querySelectorAll('[data-widget="forca-barca"]'),M=0;M<k.length;M++)new e.ForcaBarca(k[M])}(PULSE.app.common,PULSE.core,PULSE.app),function(e,t,a){var n="search-bar--hide-icon",i="js-search-bar-cta",o=function(e){var a=this,n=e.currentTarget.value.length>0,i=t.style.hasClass(a.searchBar,a.hideClass);e.which===CONSTANTS.KEY_CODES.ENTER&&a.onSearch(),n&&!i?t.style.addClass(a.searchBar,a.hideClass):n||t.style.removeClass(a.searchBar,a.hideClass)};e.SearchInput=function(e,t,a){var o=this;e&&t&&(o.hideClass=a||n,o.searchBar=e,o.searchInput=t,o.searchBarCta=o.searchBar.querySelector("."+i),o.addListeners())},e.SearchInput.prototype.addListeners=function(){var e=this;e.searchInput.addEventListener("keyup",o.bind(e)),A11Y_HELPER.addListener(e.searchBarCta,function(){e.onSearch()})},e.SearchInput.prototype.onSearch=function(){var e=this,t=e.searchInput.value;t&&(window.location="/"+a.language+"/search?s="+t)}}(PULSE.app.common,PULSE.core,PULSE.app),function(e,t){var a="content-slider";e.Slider=function(e){var t=this;t.config=deepFreeze(CLONE_HELPER.deepCloneObject(e)),t.initSlider()},e.Slider.prototype.getActiveSlide=function(){return this.activeSlide},e.Slider.prototype.getItemsLeft=function(){var e=this;e.itemsLeft=e.config.sliderElements.length-e.activeSlide*e.itemsPerPage,e.itemsLeft<e.itemsPerPage?e.fullScroll=!1:e.fullScroll=!0},e.Slider.getPageCount=function(e){var a=e.featuredThumbClass?DOM_HELPER.nodeListToArray(e.sliderElements).filter(function(a){return t.style.hasClass(a,e.featuredThumbClass)}).length:0;return Math.ceil((e.sliderElements.length-a)/e.perPage)+a},e.Slider.prototype.initSlider=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.Slider.getPageCount,a=this;a.slideWidth=a.config.slideContainer.clientWidth,a.pagerElements=a.config.pagerElements,a.itemsPerPage=a.config.perPage,a.slideNum=t(a.config),a.activeSlide=0,a.direction="left",a.fullScroll=!0,a.config.slideContainer.style[a.direction]="0px",a.itemsLeft=a.config.sliderElements.length,a.setListeners(),a.resetSlider()},e.Slider.prototype.isVisibleInSlideView=function(e,t){var a=e.getBoundingClientRect(),n=t.getBoundingClientRect(),i=a.top>=n.top,o=a.bottom<=n.bottom,r=a.left>=n.left,l=a.right<=n.right;return i&&o&&r&&l},e.Slider.prototype.focusedAtIndex=function(e){var t=this,a=Math.floor(e/parseInt(t.itemsPerPage));a!==t.activeSlide&&t.slideTo(a)},e.Slider.prototype.isPaginating=function(){return!!this.config.pagerItemsContainer&&this.config.pagerItemsContainer.offsetParent},e.Slider.prototype.nudgeLeft=function(){t.style.toggleClass(this.config.slideContainer,this.config.nudgeLeftClass)},e.Slider.prototype.nudgeRight=function(){t.style.toggleClass(this.config.slideContainer,this.config.nudgeRightClass)},e.Slider.prototype.renderPaginator=function(){var e=this;if(e.config.pagerItemsContainer)if(e.slideNum>1){e.config.pagerItemsContainer.innerHTML=TEMPLATE_HELPER.render({slideNum:e.slideNum,widgetClass:e.config.widgetClass||a},"slider-paginator"),e.pagerElements=e.config.container.querySelectorAll(".js-pager-btn");for(var n=function(t){A11Y_HELPER.addListener(e.pagerElements[t],function(){e.activeSlide=t,e.slideTo(t)})},i=0;i<e.pagerElements.length;i++)n(i);for(var i=0;i<e.config.sliderElements.length;i++)e.config.sliderElements[i].addEventListener("focusin",e.focusedAtIndex.bind(e,i));t.style.removeClass(e.config.prevButton,"u-hide"),t.style.removeClass(e.config.nextButton,"u-hide")}else t.style.addClass(e.config.prevButton,"u-hide"),t.style.addClass(e.config.nextButton,"u-hide")},e.Slider.prototype.resetSlider=function(){var e=this;if(window.innerWidth>CONSTANTS.BREAKPOINTS.TABLET){var t=0;Array.prototype.forEach.call(e.config.slideContainer.children,function(a){e.isVisibleInSlideView(a,e.config.slideContainer)&&t++}),e.config.staticPerPage||(e.itemsPerPage=t)}e.slideElementWidth=e.config.sliderElements[e.config.widthReferenceIndex||0].clientWidth*e.itemsPerPage,e.slideNum=Math.ceil(e.config.sliderElements.length/e.itemsPerPage),e.activeSlide=0,e.renderPaginator(),e.slideTo(e.activeSlide)},e.Slider.prototype.scrollNext=function(){var e=this;e.activeSlide!==e.slideNum-1&&(e.activeSlide++,e.slideTo(e.activeSlide),e.updateControls(),e.setActiveItems(),e.config.nextCallback&&e.config.nextCallback())},e.Slider.prototype.scrollPrev=function(){var e=this;0!==e.activeSlide&&(e.activeSlide--,e.slideTo(e.activeSlide),e.updateControls(),e.setActiveItems(),e.config.previousCallback&&e.config.previousCallback())},e.Slider.prototype.scrollSlider=function(){var e=this;if(e.fullScroll){var t=e.slideElementWidth*e.activeSlide;e.config.slideContainer.style.left="-"+t+"px"}else{var a=e.slideElementWidth*e.activeSlide-e.config.sliderElements[0].clientWidth*(e.itemsPerPage-e.itemsLeft);e.config.slideContainer.style.left="-"+a+"px"}},e.Slider.prototype.setActiveItems=function(){for(var e=this,a=0;a<e.config.sliderElements.length;a++)t.style.removeClass(e.config.sliderElements[a],e.config.itemActiveClass);for(var n=e.activeSlide*e.itemsPerPage,i=0;i<e.itemsPerPage&&e.config.sliderElements[n];i++)t.style.addClass(e.config.sliderElements[n],e.config.itemActiveClass),n++},e.Slider.prototype.setListeners=function(){var e=this;A11Y_HELPER.addListener(e.config.nextButton,function(t){e.config.nextButton.blur(),e.scrollNext(),t.preventDefault()}),A11Y_HELPER.addListener(e.config.prevButton,function(t){e.config.prevButton.blur(),e.scrollPrev(),t.preventDefault()}),e.config.nextButton.addEventListener("mouseover",e.nudgeLeft.bind(e)),e.config.nextButton.addEventListener("mouseout",e.nudgeLeft.bind(e)),e.config.prevButton.addEventListener("mouseover",e.nudgeRight.bind(e)),e.config.prevButton.addEventListener("mouseout",e.nudgeRight.bind(e)),t.event.windowResize.add({method:e.resetSlider.bind(e)})},e.Slider.prototype.slideTo=function(e){var t=this;if(t.getItemsLeft(),t.scrollSlider(),t.activeSlide=e,t.updateControls(),t.setActiveItems(),t.config.paginationCallback){var a=t.activeSlide<e;t.config.paginationCallback(a)}},e.Slider.prototype.updateControls=function(){var e=this;if(e.activeSlide>=e.slideNum-1?t.style.addClass(e.config.nextButton,e.config.buttonHideClass):t.style.hasClass(e.config.nextButton,e.config.buttonHideClass)&&t.style.removeClass(e.config.nextButton,e.config.buttonHideClass),0===e.activeSlide?t.style.addClass(e.config.prevButton,e.config.buttonHideClass):t.style.hasClass(e.config.prevButton,e.config.buttonHideClass)&&t.style.removeClass(e.config.prevButton,e.config.buttonHideClass),e.pagerElements.length>0)for(var a=0;a<e.pagerElements.length;a++)a===e.activeSlide?t.style.addClass(e.pagerElements[a],e.config.pagerActiveClass):t.style.removeClass(e.pagerElements[a],e.config.pagerActiveClass)}}(PULSE.app.common,PULSE.core),function(e,t){var a=function(e){return 0!==e.length&&e[e.length-1]},n=function(e,t){var n=a(e);return!n||n.length===t},i=function(e){var t=this,n=a(e);return!!n&&r.call(t,n[0])},o=function(){var e=this;return DOM_HELPER.nodeListToArray(e.config.sliderElements).reduce(function(t,o){return i.call(e,t,e.config.featuredThumbClass)||n(t,e.config.perPage)||r.call(e,o)?(t.push([o]),t):(a(t).push(o),t)},[])},r=function(e){var a=this;return t.style.hasClass(e,a.config.featuredThumbClass)},l=function(e){var t=this,a=e.offsetLeft;r.call(t,e)&&(a=DOM_HELPER.getCenteredOffset(t.config.slideContainer,e));var n=t.config.slideContainer.scrollWidth-t.config.slideContainer.getBoundingClientRect().width;return Math.max(0,Math.min(a,n))},s=function(){var e=this;window.innerWidth<=e.config.disableBelow&&(e.config.slideContainer.style[e.direction]="0px")};e.FeaturedContentSlider=function(e){var a=this;a.config=deepFreeze(CLONE_HELPER.deepCloneObject(e)),window.innerWidth<=a.config.disableBelow||(a.pageSlides=o.call(a),a.initSlider(function(){return a.pageSlides.length}),a.config.defaultIndex&&(a.activeSlide=a.config.defaultIndex,a.slideTo(a.config.defaultIndex)),t.event.windowResize.add({method:s.bind(a)}))},e.FeaturedContentSlider.prototype=Object.create(e.Slider.prototype),e.FeaturedContentSlider.prototype.scrollSlider=function(){var e=this,t=l.call(e,e.pageSlides[e.activeSlide][0]);e.config.slideContainer.style[e.direction]="-"+t+"px"},e.FeaturedContentSlider.prototype.resetSlider=function(){var t=this;e.Slider.prototype.resetSlider.call(t),t.slideNum=t.pageSlides.length},e.FeaturedContentSlider.prototype.renderPaginator=function(){var t=this;t.slideNum=t.pageSlides.length,e.Slider.prototype.renderPaginator.call(t)},e.FeaturedContentSlider.prototype.scrollPrev=function(){var e=this;if(0!==e.activeSlide){e.activeSlide--;var t=e.pageSlides[e.activeSlide][0];e.config.slideContainer.style[e.direction]="-"+l.call(e,t)+"px",e.updateControls(),e.setActiveItems(),e.config.previousCallback&&e.config.previousCallback()}},e.FeaturedContentSlider.prototype.focusedAtIndex=function(e){for(var t=this,a=t.config.sliderElements[e],n=0;n<t.pageSlides.length;n++){var i=t.pageSlides[n],o=i.indexOf(a);if(o!==t.activeSlide)return t.slideTo(e)}},e.FeaturedContentSlider.prototype.scrollNext=function(){var e=this;if(e.activeSlide!==e.slideNum-1){e.activeSlide++;var t=e.pageSlides[e.activeSlide][0];e.config.slideContainer.style[e.direction]="-"+l.call(e,t)+"px",e.updateControls(),e.setActiveItems(),e.config.nextCallback&&e.config.nextCallback()}}}(PULSE.app.common,PULSE.core),function(e,t,a){var n=20,i=60,o=120,r="js-thumb",l=function(){var e=this;!e.isScrolling&&e.noTouch&&s.call(e)},s=function(){var e=this,t=e.container.scrollLeft,a=e.container.scrollWidth-e.container.getBoundingClientRect().width,n=0;if(t>e.lastScrollPos+i){n=p.call(e,"right"),e.slideRight=!0,e.slideLeft=!1;var o=Math.min(n,a);e.slidingAnimationFrame=ANIMATION_HELPER.requestAnimationFrame(f.bind(e,o))}else if(t<e.lastScrollPos-i)n=p.call(e,"left"),e.slideRight=!1,e.slideLeft=!0,e.slidingAnimationFrame=ANIMATION_HELPER.requestAnimationFrame(m.bind(e,n));else{n=p.call(e,"right"),e.slideRight=!0,e.slideLeft=!1;var r=Math.min(u(e.lastSnapElement,e.container),a);e.slidingAnimationFrame=ANIMATION_HELPER.requestAnimationFrame(f.bind(e,r||0))}},c=function(){var e=this;return e.ignore?void(e.ignore=!1):(e.isScrolling=!0,clearTimeout(e.scrollTimeout),void(e.scrollTimeout=setTimeout(function(){e.isScrolling=!1,l.call(e)},o)))},d=function(){var e=this;e.onScroll=c.bind(e),e.container.addEventListener("scroll",e.onScroll),e.container.addEventListener("touchstart",function(){e.noTouch=!1}),e.container.addEventListener("touchend",function(){e.noTouch=!0,l.call(e)})},u=function(e,t){return a.style.hasClass("js-thumb-featured")?DOM_HELPER.getCenteredOffset(t,e,!0):e.offsetLeft},p=function(e){for(var t=this,a=0;a<t.elements.length;a++){var n=t.elements[a].getBoundingClientRect();if(n.left>=t.leftMargin)return"left"===e&&t.elements[a-1]?(t.lastSnapElement=t.elements[a-1],u(t.lastSnapElement,t.container)):(t.lastSnapElement=t.elements[a],u(t.lastSnapElement,t.container))}return 0},m=function E(e){var t=this,a=t.container.scrollLeft-n;a<=e?(t.container.scrollLeft=e,t.lastScrollPos=e,cancelAnimationFrame(t.slidingAnimationFrame)):t.slideLeft&&(t.container.scrollLeft=a,t.lastScrollPos=a,ANIMATION_HELPER.requestAnimationFrame(E.bind(t,e)))},f=function g(e){var t=this,a=t.container.scrollLeft+n;a>=e?(t.container.scrollLeft=e,t.lastScrollPos=e,cancelAnimationFrame(t.slidingAnimationFrame)):t.slideRight&&(t.container.scrollLeft=a,t.lastScrollPos=a,ANIMATION_HELPER.requestAnimationFrame(g.bind(t,e)))};t.MobileContentSlider=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:CONSTANTS.BREAKPOINTS.TABLET,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=this;window.innerWidth>a||(o.container=e,o.elements=o.container.querySelectorAll("."+r),o.lastScrollPos=0,o.leftMargin=n,o.ignore=i,o.isScrolling=!1,o.noTouch=!0,o.lastSnapElement={},t&&(o.container.scrollLeft=DOM_HELPER.getCenteredOffset(o.container,t),o.lastScrollPos=o.container.scrollLeft),d.call(o))};for(var h=document.querySelectorAll("[data-mobile-slider]"),v=0;v<h.length;v++)new t.MobileContentSlider(h[v])}(PULSE.app,PULSE.app.common,PULSE.core),function(e){var t="js-indicator",a=100,n=function(){var e=this;e.scrollingElement.addEventListener("scroll",o.bind(e)),SCREEN_HELPER.onDebouncedResize(i.bind(e))},i=function(){var e=this;e.indicatorWidth=e.indicator.getBoundingClientRect().width,e.scrollingElementWidth=e.scrollingElement.getBoundingClientRect().width,e.restIndicatorWidth=e.scrollingElementWidth*a/e.scrollingElement.scrollWidth,e.indicator.style.width=e.restIndicatorWidth+"%",o.call(e)},o=function(){var e=this,t=e.scrollingElement.scrollLeft*a/e.scrollingElement.scrollWidth;e.indicator.style.left=t+"%"};e.MobileScroller=function(e,a){var o=this;o.container=e,o.indicator=o.container.querySelector("."+t),o.scrollingElement=a,n.call(o),i.call(o)}}(PULSE.app.common),function(e,t,a){var n=40,i=60,o=40,r=300,l=30,s=50,c="gallery-picture-item",d="js-gallery-slider",u="js-gallery-photo",p="js-gallery-viewport",m="js-gallery-viewport-list",f="js-gallery-nav-prev",h="js-gallery-nav-next",v="js-gallery-counter",E="js-gallery-amount",g="js-gallery-title",S="js-gallery-author",_="js-gallery-author-company",b="js-gallery-author-name",y="js-gallery-download",C="js-gallery-partner",L="gallery-modal__title--hidden",T="gallery-modal__author--hidden",w="embeddable-gallery--animating",A=function(){return window.innerWidth<=CONSTANTS.BREAKPOINTS.TABLET},P=function(e){var t=this;switch(e.keyCode){case CONSTANTS.KEY_CODES.ARROW_KEY_LEFT:t.config.slidePrev=!0,t.slide("prev");break;case CONSTANTS.KEY_CODES.ARROW_KEY_RIGHT:t.config.slideNext=!0,t.slide("next");break;default:return}},N=function(){var e=this,t=DOM_HELPER.nodeListToArray(e.config.viewportList.querySelectorAll("."+u));t.forEach(function(e){e.style.opacity=0,e.onload=function(){e.style.opacity=1}})},R=function(){var e=this;clearTimeout(e.scrollTimeout),e.scrollTimeout=setTimeout(function(){var t=Math.abs(e.config.viewport.scrollLeft-e.config.viewport.offsetWidth);t>l?e.config.viewport.scrollLeft>e.config.lastScrollPos?(e.config.slideNext=!0,e.slide("next")):(e.config.slidePrev=!0,e.slide("prev")):e.updateViewport(e.config.currentSlide),e.config.viewport.removeEventListener("scroll",e.onViewportScroll)},s)},O=function(){var e=this;e.config.viewportList.innerHTML="",a.dom.appendDomString(e.config.viewportList,TEMPLATE_HELPER.render({picture:JSON.parse(e.config.prevSlide.dataset.fullscreenData),title:e.config.prevSlide.dataset.title,loadedPhotos:e.loadedPhotos,isPortrait:"true"===e.config.prevSlide.dataset.portrait},c)),a.dom.appendDomString(e.config.viewportList,TEMPLATE_HELPER.render({picture:JSON.parse(e.config.currentSlide.dataset.fullscreenData),title:e.config.currentSlide.dataset.title,loadedPhotos:e.loadedPhotos,isPortrait:"true"===e.config.currentSlide.dataset.portrait},c)),a.dom.appendDomString(e.config.viewportList,TEMPLATE_HELPER.render({picture:JSON.parse(e.config.nextSlide.dataset.fullscreenData),title:e.config.nextSlide.dataset.title,loadedPhotos:e.loadedPhotos,isPortrait:"true"===e.config.nextSlide.dataset.portrait},c))},U=function(e){var t=e.split("|");return t[0].replace("content-tag-author-","")},I=function(e){var t=e.split("|");return t[1]?t[1]:""},x=function(){var e=this,t=e.config.viewportList.firstElementChild,a=e.config.viewContainer?e.config.viewContainer.offsetWidth:window.innerWidth,i=t.offsetWidth;a>CONSTANTS.BREAKPOINTS.MOBILE&&(i=t.offsetWidth-(a-t.offsetWidth)/CONSTANTS.CALCS.HALF+n),e.config.viewport.scrollLeft=i,e.config.lastScrollPos=i},k=function(e){var t={container:e.container||document.querySelector("."+d),viewport:e.viewport||e.container.querySelector("."+p),viewportList:e.viewportList||e.container.querySelector("."+m),controls:e.controls||{},thumbnails:e.thumbnails||[],hideClass:e.hideClass||CONSTANTS.STYLE_CLS_NAMES.IS_HIDDEN,partner:e.partner||"",playlistId:e.playlistId||"",viewContainer:e.viewContainer||null};return t.controls.prev=t.controls.prev||e.container.querySelector("."+f),t.controls.next=t.controls.next||e.container.querySelector("."+h),t},M=function(){var e=this;A11Y_HELPER.addListener(e.config.controls.prev,function(){e.config.slidePrev=!0,e.slide("prev")}),A11Y_HELPER.addListener(e.config.controls.next,function(){e.config.slideNext=!0,e.slide("next")}),e.onViewportScroll=R.bind(e),e.config.viewportList.addEventListener("touchstart",function(){return e.config.viewport.addEventListener("scroll",e.onViewportScroll)})},H=function j(){var e=this,t=e.config.viewport.scrollLeft-(A()?o:i),n=0;t<=n?(e.config.viewport.scrollLeft=n,cancelAnimationFrame(e.slidingAnimationFrame),a.style.removeClass(e.config.container,w),e.updateViewport(e.config.prevSlide)):e.config.slidePrev===!0&&(e.config.viewport.scrollLeft=t,ANIMATION_HELPER.requestAnimationFrame(j.bind(e)))},D=function q(){var e=this,t=e.config.viewport.scrollLeft+(A()?o:i),r=e.config.viewportList.firstElementChild,l=e.config.viewContainer?e.config.viewContainer.offsetWidth:window.innerWidth,s=r.offsetWidth*CONSTANTS.CALCS.DOUBLE-(l-r.offsetWidth)/CONSTANTS.CALCS.HALF+n;t>=s?(e.config.viewport.scrollLeft=s,cancelAnimationFrame(e.slidingAnimationFrame),a.style.removeClass(e.config.container,w),e.updateViewport(e.config.nextSlide)):e.config.slideNext===!0&&(e.config.viewport.scrollLeft=t,ANIMATION_HELPER.requestAnimationFrame(q.bind(e)))},F=function(){var e=this;e.counterElem.innerText=Number(e.config.currentSlide.dataset.index)+1,e.downloadButton.setAttribute("href",e.config.currentSlide.dataset.download),e.downloadButton.setAttribute("target","_blank"),a.style.addClass(e.titleElem,L),a.style.addClass(e.authorElem,T),setTimeout(function(){e.titleElem.innerText=e.config.currentSlide.dataset.title,a.style.removeClass(e.titleElem,L),e.authorNameElem.innerText=U(e.config.currentSlide.dataset.author),e.authorCompanyElem.innerText=I(e.config.currentSlide.dataset.author),a.style.removeClass(e.authorElem,T)},r)},V=function(){var e=this;if(e.partnerElem){if(!e.config.partner)return void a.style.addClass(e.partnerElem,CONSTANTS.STYLE_CLS_NAMES.HIDE);a.style.removeClass(e.partnerElem,CONSTANTS.STYLE_CLS_NAMES.HIDE),e.partnerElem.appendChild(DOM_HELPER.createSVG({cssClass:"icon content-partner__logo",name:e.config.partner+"--white",sprite:"partners"}))}},B=function(){var e=this;if(e.config.playlistId)for(var t=0;t<e.socialElems.length;t++)e.socialElems[t].dataset.linkTo=URL_HELPER.generateUrl("playlist",e.config.playlistId,"photo",null,"https")};t.PhotoSlider=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;t.config=k(e),t.config.currentSlide=t.config.thumbnails[0],t.config.firstSlide=t.config.thumbnails[0],t.config.lastSlide=t.config.thumbnails[t.config.thumbnails.length-1],t.windowResize={method:function(){return t.updateViewport(t.config.currentSlide)}},t.titleElem=t.config.container.querySelector("."+g),t.authorElem=t.config.container.querySelector("."+S),t.authorNameElem=t.config.container.querySelector("."+b),t.authorCompanyElem=t.config.container.querySelector("."+_),t.counterElem=t.config.container.querySelector("."+v),
t.counterAmountElem=t.config.container.querySelector("."+E),t.downloadButton=t.config.container.querySelector("."+y),t.partnerElem=t.config.container.querySelector("."+C),t.socialElems=t.config.container.querySelectorAll("."+CONSTANTS.JS_CLS_NAMES.SOCIAL_SHARE),t.counterAmountElem.innerText=t.config.thumbnails.length,M.call(t),V.call(t),B.call(t)},t.PhotoSlider.prototype.updateViewport=function(e){var t=this;t.config.currentSlide=e,t.config.prevSlide=a.dom.getPreviousSiblings(t.config.currentSlide)[0]||t.config.lastSlide,t.config.nextSlide=a.dom.getNextSiblings(t.config.currentSlide)[0]||t.config.firstSlide,O.call(t),x.call(t),F.call(t),N.call(t)},t.PhotoSlider.prototype.slide=function(e){var t=this;a.style.addClass(t.config.container,w),t.slidingAnimationFrame=requestAnimationFrame("next"===e?D.bind(t):H.bind(t))},t.PhotoSlider.prototype.addKeyUpListener=function(){var e=this;e.keyEventCallback=P.bind(this),document.addEventListener("keyup",e.keyEventCallback)},t.PhotoSlider.prototype.removeKeyUpListener=function(){var e=this;document.removeEventListener("keyup",e.keyEventCallback),e.keyEventCallback=null}}(PULSE.app,PULSE.app.common,PULSE.core),function(e,t,a){var n=2e3,i="js-copy-url",o="js-copy-message",r="js-social-share-bubble",l="js-expand-btn",s="social-share__icon"+CONSTANTS.STYLE_CLS_MODIFIERS.ACTIVE,c="data-link-to";a.PageShare=function(e,t){var a=this;a.element=e,a.bodyContent=a.element.getAttribute("data-body"),a.labelBubble=a.element.querySelector("."+r),a.copyButton=a.element.querySelector("."+i),a.copyMessage=a.element.querySelector("."+o),a.expandBtn=a.element.querySelector("."+l),a.configUrl=t,a.setListeners()},a.PageShare.prototype.setListeners=function(){var e=this;A11Y_HELPER.addListener(e.element,function(t){if(t.target){var a=e.getSocialDataset(t.target);a&&a.socialService&&SOCIAL_HELPER[a.socialService].sharePage(e.getUrl(),!1,e.updateBodyContent())}}),document.queryCommandSupported("copy")?A11Y_HELPER.addListener(e.copyButton,function(){return e.copyUrl()}):t.style.addClass(e.copyButton,"u-hide"),e.expandBtn&&A11Y_HELPER.addListener(e.expandBtn,function(){t.style.toggleClass(e.element,"is-active")}),e.labelBubble&&A11Y_HELPER.addListener(e.labelBubble,function(){return t.style.toggleClass(e.element,"social-share--open")})},a.PageShare.prototype.copyUrl=function(){var e=this,t=e.getUrl()||window.location.href;clipboard.copy(t).then(function(){return e.copyUrlMessage()},function(){return e.copyUrlMessage(!0)})},a.PageShare.prototype.copyUrlMessage=function(e){var a=this;t.style.addClass(a.copyButton,s),e&&t.style.addClass(a.copyMessage,"social-share__copy-message--fail"),a.copyMessage.innerHTML=PULSE.I18N.lookup(e?"label.share.urlcopiedfail":"label.share.urlcopied"),setTimeout(function(){return t.style.removeClass(a.copyButton,s)},n)},a.PageShare.prototype.getSocialDataset=function(e){var t=this,a=t.element.getAttribute("data-social-service"),n=e;if(a)return t.element.dataset;do{if(!n)return!1;var i=n.getAttribute("data-social-service");if(i)return n.dataset;n=n.parentElement}while(n!==t.element);return!1},a.PageShare.prototype.getUrl=function(){return this.element.getAttribute(c)||this.configUrl},a.PageShare.prototype.setUrl=function(e){return this.element.setAttribute(c,e)},a.PageShare.prototype.updateBodyContent=function(){return this.element.getAttribute("data-body")};for(var d=document.querySelectorAll('[data-widget="social-page-share"]'),u=0;u<d.length;u++)new a.PageShare(d[u])}(PULSE.app,PULSE.core,PULSE.app.common),function(e){var t=e.shareText;new t({content:"."+CONSTANTS.JS_CLS_NAMES.TEXT_SHARE_BODY,shareOptions:"."+CONSTANTS.JS_CLS_NAMES.TEXT_SHARE_OPTIONS,shareChannels:"."+CONSTANTS.JS_CLS_NAMES.TEXT_SHARE_CHANNELS,hideUrl:!1})}(PULSE.ui),function(e){e.Filter=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=this;e.Dropdown.call(a,t)},e.Filter.prototype=Object.create(e.Dropdown.prototype),e.Filter.prototype.getAPIParams=function(){var e=this,t=e.getCurrentOption(),a=t.optionId,n={};return n[e.getName()]=a||CONSTANTS.FILTERS.DEFAULT_OPTION_ID,n},e.Filter.prototype.shouldUpdateFromDependancy=function(e,t,a){console.warn("Common Filter: shouldUpdateFromDependancy should be overriden by sub class",e,t),"function"==typeof a&&a()},e.Filter.prototype.shouldUpdateFromData=function(e){console.warn("Common Filter: shouldUpdateFromData should be overriden by sub class",e)}}(PULSE.app.common),function(e){var t=function(e){var t=e.split(/[^0-9]/);return new Date(t[0],t[1]-1,t[2],t[3],t[4],t[5])},a=function(e){if(!e||0===e.data.length)return null;var t=e.data[0];return t.subattachments?t.subattachments.data[0].media.image.src:t.media?t.media.image.src:null},n=function(e){return e.from&&e.from.picture?e.from.picture.data.url:null},i=function(e){return e.replace(/(https{0,1}:\/\/\S+)/g,'<a target="_blank" rel="noopener" href="$1">$1</a>').replace(/#(\S+)/g,'<a target="_blank" rel="noopener" href="//www.facebook.com/search/top/?q=%23$1">#$1</a>')};e.getFacebookModel=function(e){var o=SOCIAL_FEED_HELPER.getUserAccountURL(e.from.id,CONSTANTS.SOCIAL_FEED_TYPES.FACEBOOK),r=t(e.created_time),l=SOCIAL_FEED_HELPER.getSinceString(r);return{timestamp:l,id:e.id,publishFrom:r.getTime(),text:i(e.message),link:e.permalink_url,photo:a(e.attachments)||e.picture||"",feedType:CONSTANTS.SOCIAL_FEED_TYPES.FACEBOOK,user:{id:e.from.id,name:e.from.name,account:e.from.name,link:o,avatarUrl:n(e)}}}}(PULSE.app.common),function(e){var t=function(e){return new Date(parseInt(e)*CONSTANTS.TIME.ONE_SECOND)},a=function(e){return e.replace(/(https{0,1}:\/\/\S+)/g,'<a target="_blank" rel="noopener" href="$1">$1</a>').replace(/@(\S+)/g,'<a target="_blank" rel="noopener" href="//www.instagram.com/$1">@$1</a>').replace(/#(\S+)/g,'<a target="_blank" rel="noopener" href="//www.instagram.com/explore/tags/$1">#$1</a>')};e.getInstagramModel=function(e){var n=SOCIAL_FEED_HELPER.getUserAccountURL(e.user.username,CONSTANTS.SOCIAL_FEED_TYPES.INSTAGRAM),i=t(e.created_time),o=SOCIAL_FEED_HELPER.getSinceString(i),r={},l=e.images.standard_resolution.url;return"video"===e.type&&(r=e.videos.standard_resolution),{timestamp:o,publishFrom:i.getTime(),id:e.id,text:a(e.caption.text),link:e.link,type:e.type,photo:l,video:r,likes:e.likes.count,feedType:CONSTANTS.SOCIAL_FEED_TYPES.INSTAGRAM,user:{id:e.user.id,name:e.user.full_name,account:e.user.username,link:n,avatarUrl:e.user.profile_picture}}}}(PULSE.app.common),function(e){var t=function(e){return e.replace(/(https{0,1}:\/\/\S+)/g,'<a target="_blank" rel="noopener" href="$1">$1</a>').replace(/@(\S+)/g,'<a target="_blank" rel="noopener" href="//twitter.com/$1">@$1</a>').replace(/#(\S+)/g,'<a target="_blank" rel="noopener" href="//twitter.com/#!/search?q=%23$1">#$1</a>')};e.getTweetModel=function(e){var a=SOCIAL_FEED_HELPER.getUserAccountURL(e.actor.preferredUsername,CONSTANTS.SOCIAL_FEED_TYPES.TWITTER),n=new Date(e.postedTime),i=moment(n).from(moment()),o="",r=[];if(e.entities&&e.entities.media)for(var l=0;l<e.entities.media.length;l++)"photo"===e.entities.media[l].type&&(o=e.entities.media[l].media_url_https);if(e.twitter_entities&&e.twitter_entities.media)for(var s=0;s<e.twitter_entities.media.length;s++){var c=e.twitter_entities.media[s];r.push(c.media_url_https),o=c.media_url_https}if(e.long_object&&e.long_object.twitter_entities&&e.long_object.twitter_entities.media)for(var d=e.long_object.twitter_entities.media,u=0;u<d.length;u++)"photo"===d[u].type&&(o=d[u].media_url_https);return""!==o&&(o+=":small"),{timestamp:i,publishFrom:n.getTime(),id:e.id,text:t(e.body),link:e.link,photo:o,extendedMedia:r,user:{id:e.actor.id,name:e.actor.displayName,account:e.actor.preferredUsername,link:a,description:e.actor.summary,avatarUrl:e.actor.image},feedType:CONSTANTS.SOCIAL_FEED_TYPES.TWITTER,favorites:e.favoritesCount,retweets:e.retweetCount}}}(PULSE.app.common),function(e){e.CompSeasonGenericFilter=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=this;e.Filter.call(a,t)},e.CompSeasonGenericFilter.prototype=Object.create(e.Filter.prototype),e.CompSeasonGenericFilter.prototype.getAPIParams=function(){var e=this,t=e.getCurrentOption(),a=t.optionId;return{compSeason:a}},e.CompSeasonGenericFilter.prototype.shouldUpdateFromDependancy=function(e,t,a){var n=this;axios.get(URL_HELPER.getGenCompSeasonUrl(t.getCurrentOption().optionId)).then(function(e){return e.data}).then(function(e){return e.content.map(function(e){return{optionId:e.id,optionName:e.year+" / "+(e.year+1)}}).reverse()}).then(function(e){n.setData(e),n.updateOptions()}).then(a)}}(PULSE.app.common),function(e,t){t.CompSeasonFilter=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=this;t.Filter.call(a,e)},t.CompSeasonFilter.prototype=Object.create(t.Filter.prototype),t.CompSeasonFilter.prototype.getAPIParams=function(){var e=this,t=e.getCurrentOption(),a=t.optionId;return{compSeasons:a}},t.CompSeasonFilter.prototype.shouldUpdateFromDependancy=function(t,a,n,i){var o=this,r=a.getCurrentOption().optionId;if(r===CONSTANTS.FILTERS.DEFAULT_OPTION_ID){var l=PULSE.store.getState().compSeasons.data,s=l.map(function(e){return{optionName:e.label,optionId:e.compSeasons.join(",")}});return o.setData(s),o.updateOptions(),void("function"==typeof n&&n())}axios.get(URL_HELPER.getCompSeasons({id:r,page:0,pageSize:30,teams:i.FOOTBALL_TEAM,altIds:!0})).then(function(e){return e.data}).then(function(e){return e.content.map(function(e){var t=e.id,a=e.label,n=a.lastIndexOf(" ");return{optionId:t,optionName:n?a.slice(n+1):a}})}).then(function(e){return e.sort(function(e,t){var a=e.optionName,n=t.optionName;return n.localeCompare(a)})}).then(function(t){var a=t.filter(function(e){return!CONSTANTS.IGNORED_COMPSEASONS.includes(e.optionId)});o.setData(a),o.updateOptions(),r!==CONSTANTS.FILTERS.DEFAULT_OPTION_ID&&e.style.removeClass(o.element,CONSTANTS.STYLE_CLS_NAMES.HIDE)}).then(n)},t.CompSeasonFilter.prototype.shouldUpdateFromData=function(e){}}(PULSE.core,PULSE.app.common),function(e){var t=function(e,t){for(var a=0;a<e.length;a++)if(e[a].id===t)return e[a].compSeasons[0].id;return null};e.CompetitionsFilter=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=this;e.Filter.call(a,t)},e.CompetitionsFilter.prototype=Object.create(e.Filter.prototype),e.CompetitionsFilter.prototype.getAPIParams=function(){var e=this,a=e.getCurrentOption(),n=a.optionId,i=void 0;i=Number(n)===-1?CONSTANTS.FOOTBALL_FILTER_COMPSEASONS:t(e.getRawData(),Number(n));var o={comps:n};return i&&(o.compSeasons=i),o},e.CompetitionsFilter.prototype.shouldUpdateFromData=function(e){return e}}(PULSE.app.common),function(e){e.GenericCompetitionsFilter=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=this;e.Filter.call(a,t)},e.GenericCompetitionsFilter.prototype=Object.create(e.Filter.prototype),e.GenericCompetitionsFilter.prototype.updateOptionsData=function(e,t){var a=this;if(!t.barcaId||!CONSTANTS.GENERIC_SPORT_COMPS[t.barcaId])return e;if(!e.content||0===e.content.length)return a.config.hideFilters(),e;var n=e.content.filter(function(e){return CONSTANTS.GENERIC_SPORT_COMPS[t.barcaId].includes(e.id)});return e.content=n,e}}(PULSE.app.common),function(e){var t=function(e){var t=['"'+CONSTANTS.TAGS.TYPE.NEWS.tag+'"'];return e!==CONSTANTS.FILTERS.DEFAULT_OPTION_ID&&t.push('"'+e+'"'),1===t.length?{tagExpression:t}:{tagExpression:t.join(" and ")}},a=function(e){var t=[CONSTANTS.TAGS.TYPE.NEWS.tag];return e!==CONSTANTS.FILTERS.DEFAULT_OPTION_ID&&t.push(e),{tagNames:t.join(",")}};e.NewsTagFilter=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=this;e.Filter.call(a,t)},e.NewsTagFilter.prototype=Object.create(e.Filter.prototype),e.NewsTagFilter.prototype.getAPIParams=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this,i=n.getCurrentOption(),o=i.optionId;return e?t(o):a(o)}}(PULSE.app.common),function(e){e.VenueFilter=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=this;e.Filter.call(a,t)},e.VenueFilter.prototype=Object.create(e.Filter.prototype),e.VenueFilter.prototype.getAPIParams=function(e){var t=this,a=t.getCurrentOption(),n=a.optionId;switch(n){case CONSTANTS.API_PROPERTIES.GROUND_HOME:return{homeTeams:e.teams,awayTeams:CONSTANTS.FILTERS.DEFAULT_OPTION_ID};case CONSTANTS.API_PROPERTIES.GROUND_AWAY:return{homeTeams:CONSTANTS.FILTERS.DEFAULT_OPTION_ID,awayTeams:e.teams};default:return{homeTeams:CONSTANTS.FILTERS.DEFAULT_OPTION_ID,awayTeams:CONSTANTS.FILTERS.DEFAULT_OPTION_ID}}},e.VenueFilter.prototype.shouldUpdateFromData=function(e){var t=this;if("-1"===t.getCurrentOption().optionId)if(!e.content||e.content.length<=1)t.disable();else{var a=!1,n=!1;e.content.forEach(function(e){var t=FIXTURE_HELPER.isHomeOrAway(e,PULSE.app.teams.FIRST.id);t===CONSTANTS.API_PROPERTIES.GROUND_HOME?n=!0:t===CONSTANTS.API_PROPERTIES.GROUND_AWAY&&(a=!0)}),n&&a?t.enable():t.disable()}}}(PULSE.app.common);